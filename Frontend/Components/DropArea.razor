@namespace Common.Web

@using Plk.Blazor.DragDrop
@using Common.Application
@using Microsoft.AspNetCore.Components.Web

<Dropzone Items=@Items OnItemDrop=@OnChange InstantReplace="true">
    <Paragraph OnClick=@(async() => await HandleClick(context)) Class="option-text">@context.Content</Paragraph>
</Dropzone>


@code
{
    [Parameter]
    public List<IUnique> Items { get; set; }

    [Parameter]
    public EventCallback<IUnique> OnChange { get; set; }

    [Parameter]
    public EventCallback<IUnique> OnClick { get; set; }

    private async Task HandleClick(IUnique item)
    {
        await OnClick.InvokeAsync(item);
        await OnChange.InvokeAsync(null);
    }
}
