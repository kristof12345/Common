(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./bundles/sf-chart.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-chart.js")},"./modules/sf-chart.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Chart=function(){"use strict";var e=function(){function e(e,t,i,s,l,h,d,c){void 0===l&&(l=!1),void 0===h&&(h=!1),window.sfBlazor=window.sfBlazor,this.mouseY=0,this.mouseX=0,this.isTouch=!1,this.eventInterval=80,this.mouseMoveRef=null,this.mouseMoveThreshold=null,this.chartOnMouseClickRef=null,this.chartRightClickRef=null,this.mouseLeaveRef=null,this.chartKeyDownRef=null,this.chartKeyUpRef=null,this.chartMouseWheelRef=null,this.chartOnMouseDownRef=null,this.mouseEndRef=null,this.chartMouseWheelThreshold=null,this.domMouseMoveRef=null,this.domMouseMoveThreshold=null,this.scrollbarMouseMoveThreshold=null,this.scrollbarMouseWheelThreshold=null,this.domMouseUpRef=null,this.longPressBound=null,this.touchObject=null,this.pinchZoomingEnable=!1,this.crosshairEnable=!1,this.toggleVisibility=!0,this.enableHighlight=!0,this.highlightMode="None",this.selectionMode="None",this.rectSeries=!0,this.isSeriesMode=!1,this.seriesTypes=[],this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.previousSelectedEle=[],this.highlightColor="",this.highlightPattern="None",this.selectionPattern="None",this.legendModule=[],this.allowMultiSelection=!1,this.drawType=[],this.previousHighlightedIndex=-1,this.tooltipBase=new r,this.markerExplodeBase=new n,this.crosshairBase=new o,this.userInteractionBase=new a,this.pinchStyle="opacity: 0; position: absolute; display: block; width: 100px; height: 100px; background: transparent; border: 2px solid blue;",this.pinchtarget=null,this.documentKeyHandler=function(e){e.altKey&&74===e.keyCode&&!sf.base.isNullOrUndefined(this.element)&&this.element.focus()},this.id=t,this.element=i,this.dotnetref=s,this.isZooming=l,this.isScrollbar=h,this.options=d,this.currentLegendIndex=0,this.currentPointIndex=0,this.currentSeriesIndex=0,this.previousTargetId="",this.isZoomed=!1,this.selectionHighlightOptions(c),this.selectedDataIndexes=c.selectedDataIndexes||[],this.unSelected=t+"_ej2_deselected",this.dataId=e,window.sfBlazor.setCompInstance(this),this.getTooltipData(),this.userInteractionBase.svgRenderer=new sf.svgbase.SvgRenderer(this.element.id),this.removeTooltipData()}return e.prototype.render=function(){this.unWireEvents(this.id,this.dotnetref),this.wireEvents(this.id,this.dotnetref)},e.prototype.destroy=function(){this.unWireEvents(this.id,this.dotnetref),this.dotnetref.invokeMethodAsync("DisposeDotNetReference")},e.prototype.selectionHighlightOptions=function(e){this.enableHighlight=e.enableHighlight,this.pinchZoomingEnable=e.pinchZoomingEnable,this.toggleVisibility=e.toggleVisibility,this.highlightMode=e.highlightMode,this.selectionMode=e.selectionMode,this.seriesTypes=e.seriesTypes,this.highlightColor=e.highlightColor,this.highlightPattern=e.highlightPattern,this.selectionPattern=e.selectionPattern,this.allowMultiSelection=e.allowMultiSelection,this.drawType=e.drawType,this.oldMode=this.currentMode},e.prototype.getTooltipData=function(e,t,i,s){var r=document.getElementById(this.element.id+"_tooltip_data");if(r){this.userInteractionBase.chartData=r.getAttributeNames().map((function(e){return r.getAttribute(e)})),this.userInteractionBase.chartData.shift();var n=this.userInteractionBase.chartData.indexOf("display: block;");n>-1&&this.userInteractionBase.chartData.splice(n,1),sf.base.isNullOrUndefined(this.userInteractionBase.visibleSeries)||(this.userInteractionBase.visibleSeries.forEach((function(e){e.visible=!!document.getElementById(e.id)})),this.userInteractionBase.chartData.length>0&&(this.getVisibleSeries(this,e,t,i,s),this.isDataLoaded=!0))}},e.prototype.removeTooltipData=function(){var e=document.getElementById(this.element.id+"_tooltip_data");e&&e.getAttributeNames().length>1&&this.dotnetref.invokeMethodAsync("RemoveTooltipData")},e.prototype.tooltipOptions=function(e,t){this.userInteractionBase.availableSize=t.availableSize,this.userInteractionBase.chartBorderWidth=t.borderWidth,this.userInteractionBase.disableTrackTooltip=t.disableTrackTooltip,this.userInteractionBase.axisClipRect=t.axisClipRect,this.userInteractionBase.isPointMouseDown=t.isPointMouseDown,this.userInteractionBase.isPointDragging=t.isPointDragging,this.userInteractionBase.isInverted=t.isInverted,this.userInteractionBase.chartAreaType=t.chartAreaType,this.tooltipBase.isTooltipMarker=t.isMarkerEnable,this.tooltipBase.tooltipModule=e,this.tooltipBase.tooltipFormat=sf.base.isNullOrUndefined(t.tooltipFormat)?t.tooltipFormat:this.getTooltipFormat(t.tooltipFormat),this.userInteractionBase.enableRTL=t.enableRTL,this.crosshairBase.crosshair=t.crosshair,this.crosshairEnable=t.crosshair.enable,this.markerExplodeBase.markerExploded=t.markerExplode,this.userInteractionBase.chartRadius=t.chartRadius,this.userInteractionBase.theme=t.theme,this.crosshairBase.themeStyleCrosshairLine=t.themeStyleCrosshairLine,this.crosshairBase.themeStyleCrosshairFill=t.themeStyleCrosshairFill,this.crosshairBase.themeStyleCrosshairLabel=t.themeStyleCrosshairLabel,this.tooltipBase.tooltipModule.template=t.templateString?t.templateString:this.tooltipBase.tooltipModule.template,this.userInteractionBase.initialRect=t.initialRect,this.userInteractionBase.secondaryElementOffset=t.secondaryElementOffset,sf.base.isNullOrUndefined(this.tooltipBase.tooltipElementSize)&&this.tooltipBase.tooltipModule.template&&this.getElementSize(this.element.id+"_tooltip"),this.userInteractionBase.isStockChart=this.element.id.indexOf("_stockChart")>-1,this.tooltipBase.tooltipEventCalled=t.tooltipEventCalled,this.tooltipBase.sharedTooltipEventCalled=t.sharedTooltipEventCalled,this.tooltipBase.crosshairMouseMoveEventCalled=t.crosshairMouseMoveEventCalled,this.tooltipBase.seriesTooltipTop=t.seriesTooltipTop,this.tooltipBase.tooltipDuration=0!=this.tooltipBase.tooltipModule.duration?this.tooltipBase.tooltipModule.duration:this.tooltipBase.tooltipModule.shared?100:300,this.crosshairEnable?this.togglePointerEvents(this.element.id,!1):this.pinchZoomingEnable&&this.togglePointerEvents(this.element.id,!0)},e.prototype.getElementSize=function(e){var t=document.getElementById(e);t&&0===t.childNodes.length&&(t.appendChild(document.getElementById("tooltip_template")),this.tooltipBase.tooltipElementSize={width:t.offsetWidth,height:t.offsetHeight},t.removeChild(t.firstChild))},e.prototype.clipPathID=function(e){return this.element.id+"_ChartSeriesClipRect_"+e},e.prototype.markerClipPathId=function(e){return this.element.id+"_ChartMarkerClipRect_"+e},e.prototype.getVisibleSeries=function(e,t,i,s,r){e.userInteractionBase.visibleSeries=[],e.userInteractionBase.axes=r;var n=document.getElementById(e.element.id+"SeriesCollection").querySelectorAll("[id*='SeriesGroup']"),o=document.getElementById(e.element.id+"IndicatorCollection").querySelectorAll("[id*='_Group']"),a=[];n.length>0&&n.forEach((function(e){a.push(e)})),o.length>0&&o.forEach((function(e){a.push(e)}));for(var l,h=function(r){var n=a[r].id,o=document.getElementById(n),h=sf.base.isNullOrUndefined(o)?null:o.getAttribute("data-point").split(",");l={id:n,name:h[15],index:parseInt(h[4]),interior:h[2],visible:"True"===h[8],category:h[10],seriesType:h[11],type:h[3],drawType:h[12],marker:i[r],border:s[r],shape:h[13],points:sf.base.isNullOrUndefined(d.userInteractionBase.chartData[r])||""==d.userInteractionBase.chartData[r]?[]:JSON.parse(e.userInteractionBase.chartData[r]),clipRect:t[r],tooltipFormat:""!==h[14]?d.getTooltipFormat(h[14]):h[14],enableTooltip:"True"===h[16],dataEditSettings:"True"===h[17],chartIsTransposed:"True"===h[18],opacity:parseFloat(h[19]),x_Axis:d.userInteractionBase.axes.filter((function(e){return e.name===h[20]}))[0],y_Axis:d.userInteractionBase.axes.filter((function(e){return e.name===h[21]}))[0],axesCount:d.userInteractionBase.axes.length,volume:h[22],markerDataLabelFormat:h[23]},e.userInteractionBase.visibleSeries.push(l)},d=this,c=0;c<a.length;c++)h(c)},e.prototype.getTooltipFormat=function(e){return e=e.replace("tooltip","tT").replace("text","t").replace("high","h").replace("low","l").replace("open","o").replace("close","c").replace("volume","v").replace("size","sI").replace("percentage","p").replace("minimum","mI").replace("maximum","mX").replace("outliers","oL").replace("upperQuartile","uQ").replace("lowerQuartile","lQ").replace("median","m").replace("average","a")},e.prototype.unWireEvents=function(e,t){var i=document.getElementById(e);if(i){this.dotnetref=t,l.dotnetrefCollection=l.dotnetrefCollection.filter((function(t){return t.id!==e}));
/*! Find the Events type */
var s=sf.base.Browser.isPointer?"pointerleave":"mouseleave";
/*! Bind the Event handler */if(i.removeEventListener("mousemove",this.mouseMoveRef),i.removeEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.remove(i,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.remove(i,sf.base.Browser.touchEndEvent,this.mouseEndRef),sf.base.EventHandler.remove(i,"click",this.chartOnMouseClickRef),sf.base.EventHandler.remove(i,"contextmenu",this.chartRightClickRef),sf.base.EventHandler.remove(i,s,this.mouseLeaveRef),sf.base.EventHandler.remove(i,"keydown",this.chartKeyDownRef),sf.base.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),sf.base.EventHandler.remove(i,"keyup",this.chartKeyUpRef),this.isZooming){var r="mozilla"===sf.base.Browser.info.name?sf.base.Browser.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel";i.removeEventListener(r,this.chartMouseWheelRef)}if(this.isScrollbar&&(window.removeEventListener("mousemove",this.domMouseMoveRef),window.removeEventListener("mouseup",this.domMouseUpRef,!1)),0==document.getElementsByClassName("e-chart").length){var n=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.remove(window,n,l.resizeBound)}this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)
/*! Apply the style for chart */}},e.prototype.wireEvents=function(e,t){var i=document.getElementById(e);if(i){this.dotnetref=t,l.dotnetrefCollection.push({id:e,dotnetref:t});
/*! Find the Events type */
var s=sf.base.Browser.isPointer?"pointerleave":"mouseleave";if(this.chartOnMouseDownRef=this.chartOnMouseDown.bind(this,t,e),this.mouseEndRef=this.mouseEnd.bind(this,t,e),this.mouseMoveRef=this.mouseMove.bind(this,t,e),this.chartOnMouseClickRef=this.chartOnMouseClick.bind(this,t,e),this.chartRightClickRef=this.chartRightClick.bind(this,t,e),this.chartKeyDownRef=this.chartOnKeyDown.bind(this,this.dotnetref,this.id),this.chartKeyUpRef=this.chartOnKeyUp.bind(this,this.dotnetref,this.id),this.mouseLeaveRef=this.mouseLeave.bind(this,t,e),
/*! Bind the Event handler */
i.addEventListener("mousemove",this.mouseMoveRef),i.addEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.add(i,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.add(i,sf.base.Browser.touchEndEvent,this.mouseEndRef),sf.base.EventHandler.add(i,"click",this.chartOnMouseClickRef),sf.base.EventHandler.add(i,"contextmenu",this.chartRightClickRef),sf.base.EventHandler.add(i,s,this.mouseLeaveRef),sf.base.EventHandler.add(i,"keydown",this.chartKeyDownRef),sf.base.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),sf.base.EventHandler.add(i,"keyup",this.chartKeyUpRef),this.isZooming){this.chartMouseWheelRef=this.chartMouseWheel.bind(this,t,e);var r="mozilla"===sf.base.Browser.info.name?sf.base.Browser.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel";i.addEventListener(r,this.chartMouseWheelRef)}this.isScrollbar&&(this.domMouseMoveRef=this.domMouseMove.bind(this,t,e),this.domMouseUpRef=this.domMouseUp.bind(this,t,e),window.addEventListener("mousemove",this.domMouseMoveRef),window.addEventListener("mouseup",this.domMouseUpRef,!1)),l.resizeBound=l.chartResize.bind(this,l.dotnetrefCollection);var n=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.add(window,n,l.resizeBound),this.longPressBound=this.longPress.bind(this,t,e),this.touchObject=new sf.base.Touch(i,{tapHold:this.longPressBound,tapHoldThreshold:500})}},e.prototype.getEventArgs=function(e,t){var i=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.setMouseXY(i,s,t);var r=e.touches,n=[];if(e.type.indexOf("touch")>-1)for(var o=0,a=r.length;o<a;o++)n.push({pageX:r[o].clientX,pageY:r[o].clientY,pointerId:e.pointerId||0});return{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:this.mouseX,mouseY:this.mouseY,pointerType:e.pointerType,target:e.target.id,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:n,pointerId:e.pointerId}},e.prototype.getWheelArgs=function(e,t){return this.setMouseXY(e.clientX,e.clientY,t),{detail:e.detail,wheelDelta:e.wheelDelta,target:e.currentTarget?e.currentTarget.id:e.srcElement?e.srcElement.id:e.target?e.target.id:"",clientX:e.clientX,clientY:e.clientY,mouseX:this.mouseX,mouseY:this.mouseY,browserName:sf.base.Browser.info.name,isPointer:sf.base.Browser.isPointer}},e.prototype.setMouseXY=function(e,t,i){var s=document.getElementById(i.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),r=document.getElementById(i).getBoundingClientRect();this.userInteractionBase.secondaryElementOffset&&(this.userInteractionBase.secondaryElementOffset.left=Math.max(s.left-r.left,0),this.userInteractionBase.secondaryElementOffset.top=Math.max(s.top-r.top,0),this.mouseY=t-r.top-this.userInteractionBase.secondaryElementOffset.top,this.mouseX=e-r.left-this.userInteractionBase.secondaryElementOffset.left)},e.prototype.chartOnMouseDown=function(e,t,i){this.dotnetref=e;var s=i.target,r=window.sfBlazor.getCompInstance(this.dataId);if(s.id.indexOf("legend")>0&&(r.previousHighlightedIndex=-1),i.type.indexOf("touch")>-1){var n=i.changedTouches?i.changedTouches[0].clientX:i.clientX,o=i.changedTouches?i.changedTouches[0].clientY:i.clientY,a=i.touches.length>1;r.pinchZoomingEnable?(this.pinchtarget=document.getElementById(t+"_Pinch_target"),this.pinchtarget.setAttribute("style",this.pinchStyle+" top: "+(o-50)+"px; left: "+(n-50)+"px;"),this.togglePointerEvents(t,!r.crosshairEnable||a),i.preventDefault(),"mozilla"!==sf.base.Browser.info.name.toLowerCase()&&a&&i.stopImmediatePropagation()):r.crosshairEnable&&(this.togglePointerEvents(t,!1),i.preventDefault())}return e.invokeMethodAsync("OnZoomingMouseDown",this.getEventArgs(i,t)),!1},e.prototype.togglePointerEvents=function(e,t){t?this.setPointerEvents(e,"none"):this.setPointerEvents(e,"auto")},e.prototype.setPointerEvents=function(e,t){document.getElementById(e+"_sfchart_rect_style").innerHTML="#"+e+"_ChartAreaBorder, #"+e+"_ChartBorder {pointer-events: "+t+"; }"},e.prototype.chartMouseWheel=function(e,t,i){return this.dotnetref=e,e.invokeMethodAsync("OnChartMouseWheel",this.getWheelArgs(i,t)),i.preventDefault(),!1},e.prototype.mouseMove=function(e,t,i,s){void 0===s&&(s=!1);var r=i.target;if(!sf.base.isNullOrUndefined(document.getElementById(r.id))&&("None"!==this.highlightMode||this.enableHighlight)){if((!sf.base.isNullOrUndefined(r)||r.id.indexOf("Point")>-1||r.id.indexOf("Symbol")>-1)&&(r=r.id.indexOf("text")>-1?l.findDOMElement(r.id.replace("text","shape")):l.findDOMElement(r.id),!sf.base.isNullOrUndefined(r)&&r.hasAttribute("class")&&(r.getAttribute("class").indexOf("highlight")>-1||r.getAttribute("class").indexOf("selection")>-1)))return;"None"!==this.highlightMode&&l.calculateSelectedElements(i,this.dataId);for(var n=void 0,o=[this.id+"_chart_legend_text_",this.id+"_chart_legend_shape_marker_",this.id+"_chart_legend_shape_",this.id+"_chart_legend_g_"],a=0;a<o.length;a++)if(!sf.base.isNullOrUndefined(r)&&!r.id.indexOf(o[a])){n=parseInt(r.id.split(o[a])[1]);break}var h=window.sfBlazor.getCompInstance(this.dataId);!sf.base.isNullOrUndefined(r)&&r.id.indexOf("legend")>0&&(l.isTargetChanged(n,h)||"None"!==this.highlightMode)&&(this.legendVisible=!0,l.legendSelection(i,h.dataId)),sf.base.isNullOrUndefined(r)||r.id.indexOf("legend")>0||l.resetPreviousHighlightIndex(h),sf.base.isNullOrUndefined(r)||"None"!=this.highlightMode||r.id.indexOf("legend")>0||!(h.highlightDataIndexes.length>0)||l.removeSelectionStyles(this.dataId)}if(!s&&(null==this.mouseMoveThreshold||(new Date).getTime()-this.mouseMoveThreshold>this.eventInterval)){this.mouseMoveThreshold=(new Date).getTime();var d=void 0,c=void 0,u=void 0;if("touchmove"===i.type){this.isTouch=!0,d=(u=i).changedTouches[0].clientX,c=u.changedTouches[0].clientY;h=window.sfBlazor.getCompInstance(this.dataId);this.pinchtarget&&h.pinchZoomingEnable&&(this.pinchtarget.setAttribute("style",this.pinchStyle+" top: "+(c-50)+"px; left: "+(d-50)+"px;"),i.preventDefault()),h.crosshairBase.crosshair.enable&&i.preventDefault()}else this.isTouch="touch"===i.pointerType||"2"===i.pointerType||this.isTouch,d=i.clientX,c=i.clientY;this.dotnetref=e,document.getElementById(t.replace("_stockChart_chart","")+"_svg")&&(this.setMouseXY(d,c,t),this.userInteractionBase.chartStartMove&&(null!=this.tooltipBase.tooltipModule&&l.tooltipMousemovehandler(this),this.markerExplodeBase.markerExploded&&l.markerMove(this,!1),this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable&&l.crosshairMousemoveHandler(this)),e.invokeMethodAsync("OnZoomingMouseMove",this.getEventArgs(i,t)),this.isTouch=!1)}},e.prototype.mouseEnd=function(e,t,i){var s,r,n=this;this.dotnetref=e;var o="touchmove"===i.type?i:null;if(s="touchmove"===i.type?o.changedTouches[0].clientX:i.clientX,r="touchmove"===i.type?o.changedTouches[0].clientY:i.clientY,this.isTouch=i.type.indexOf("touch")>-1||("touch"===i.pointerType||"2"===i.pointerType),document.getElementById(t.replace("_stockChart_chart","")+"_svg")&&(this.setMouseXY(s,r,t),this.isTouch&&!this.userInteractionBase.isStockChart&&((this.tooltipBase.tooltipModule.enable&&!this.crosshairBase.crosshair.enable&&!l.isSelected()&&sf.svgbase.withInAreaBounds(this.mouseX,this.mouseY,this.userInteractionBase.axisClipRect)&&this.tooltipBase.tooltipModule.shared||this.tooltipBase.tooltipModule.shared)&&(l.tooltip(this),this.markerExplodeBase.markerExploded&&l.markerMove(this,!1)),this.clearTooltip&&clearTimeout(this.clearTooltip),this.clearTooltip=setTimeout((function(){l.removeTooltip(300,n)}),1e3)),this.userInteractionBase.startMove&&l.removeCrosshair(this,2e3)),"touchend"==i.type)if(this.pinchZoomingEnable){var a=i.touches.length>0;this.togglePointerEvents(t,!this.crosshairEnable||a)}else this.togglePointerEvents(t,!1);return e.invokeMethodAsync("OnZoomingMouseEnd",this.getEventArgs(i,t)),this.isTouch=!1,!1},e.prototype.chartOnMouseClick=function(e,t,i){l.calculateSelectedElements(i,this.dataId);var s=i.target,r=window.sfBlazor.getCompInstance(this.dataId);s.id.indexOf("legend")>0&&!r.toggleVisibility&&(this.legendVisible=!0,l.legendSelection(i,r.dataId))},e.prototype.chartRightClick=function(e,t,i){return this.dotnetref=e,!window.sfBlazor.getCompInstance(this.dataId).crosshairBase.crosshair.enable||2!==i.buttons&&"touch"!==i.pointerType||(i.preventDefault(),i.stopPropagation()),e.invokeMethodAsync("OnChartMouseRightClick",this.getEventArgs(i,t)),!1},e.prototype.chartOnKeyDown=function(e,t,i){this.dotnetref=e;var s="";return(this.isZoomed&&"Tab"==i.code||"Space"==i.code)&&i.preventDefault(),this.options.showTooltip&&("Tab"==i.code&&this.previousTargetId.indexOf("Series")>-1||"Escape"===i.code)&&(s="ESC"),!i.ctrlKey||"+"!==i.key&&"Equal"!==i.code&&"-"!==i.key&&"Minus"!==i.code?82===i.keyCode&&this.isZoomed?(i.preventDefault(),this.isZoomed=!1,s="R"):i.code.indexOf("Arrow")>-1&&(i.preventDefault(),s=this.isZoomed?i.code:""):(i.preventDefault(),this.isZoomed=this.options.enableZoom,l.fadeOut(this.element),s=this.isZoomed?i.code:""),i.ctrlKey&&"p"===i.key&&(i.preventDefault(),s="CtrlP"),""!=s&&e.invokeMethodAsync("OnChartKeyboardNavigations",s,i.target.id),!1},e.prototype.processPointSelection=function(e,t,i,s){var r=document.getElementById(t);sf.base.isNullOrUndefined(r)||("Enter"===s?this.chartOnMouseClick(e,t,{target:document.getElementById(i),type:"click"}):"Tab"!==s&&"ArrowMove"!==s||this.mouseMove(e,t,{target:document.getElementById(i),type:"mousemove"},!0))},e.prototype.chartOnKeyUp=function(e,t,i){this.dotnetref=e;var s,r,n="",o=i.target.id,a=i.target,h=l.getElement(this.element.id+"_ChartTitle"),d=l.getElement(this.element.id+"SeriesCollection"),c=l.getElement(this.element.id+"_chart_legend_translate_g"),u=l.getElement(this.element.id+"_chart_legend_pageup");if(!this.isZoomed&&82!==i.keyCode){var p,f;if(h&&h.setAttribute("class","e-chart-focused"),d&&d.firstElementChild)(f=(p=d.firstElementChild.children[1]).getAttribute("class"))&&-1===f.indexOf("e-chart-focused")?f+=" e-chart-focused":f||(f="e-chart-focused"),p.setAttribute("class",f+" e-chart-focused");if(c)(f=(p=c.firstElementChild).getAttribute("class"))&&-1===f.indexOf("e-chart-focused")?f+=" e-chart-focused":f||(f="e-chart-focused"),p.setAttribute("class",f);if(u&&u.setAttribute("class","e-chart-focused"),"Tab"==i.code){if(""!=this.previousTargetId)if(this.previousTargetId.indexOf("_Series_")>-1&&-1==o.indexOf("_Series_")){if(s=l.getElement(this.element.id+"SeriesCollection"),!sf.base.isNullOrUndefined(s.children[this.currentSeriesIndex])){var m=this.previousTargetId.indexOf("_Symbol")>-1?l.getElement(this.element.id+"SymbolGroup"+this.currentSeriesIndex).children[this.currentPointIndex+1]:this.previousTargetId.indexOf("_Point_")>-1?s.children[this.currentSeriesIndex].children[this.currentPointIndex+1]:s.children[this.currentSeriesIndex];l.setTabIndex(m,s.firstElementChild),this.currentPointIndex=0,this.currentSeriesIndex=0}}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&-1==o.indexOf("_chart_legend_page")&&-1==o.indexOf("_chart_legend_g_")?l.setTabIndex(i.target,l.getElement(this.element.id+"_chart_legend_pageup")):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&-1==o.indexOf("_chart_legend_g_")&&(s=l.getElement(this.element.id+"_chart_legend_translate_g"),l.setTabIndex(s.children[this.currentLegendIndex],s.firstElementChild));this.previousTargetId=o,o.indexOf("SeriesGroup")>-1&&(this.currentSeriesIndex=+o.split("SeriesGroup")[1],a.removeAttribute("tabindex"),a.blur(),-1==a.children[1].id.indexOf("_Point_")&&(r=l.getElement(this.element.id+"SymbolGroup"+o.split("SeriesGroup")[1])),o=l.focusChild(null!=r?r.children[1]:a.children[1])),n=this.options.enableHighlight||this.options.showTooltip?"Tab":""}else if(i.code.indexOf("Arrow")>-1){if(i.preventDefault(),this.previousTargetId=o,o.indexOf("_chart_legend_page")>-1)"ArrowLeft"==i.code?(l.getElement(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),l.focusChild(l.getElement(this.element.id+"_chart_legend_pageup"))):"ArrowRight"==i.code&&(l.getElement(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),l.focusChild(l.getElement(this.element.id+"_chart_legend_pagedown")));else if(o.indexOf("_chart_legend_")>-1){var g=a.parentElement.children;g[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"==i.code||"ArrowRight"==i.code?1:-1,this.currentLegendIndex=l.getActualIndex(this.currentLegendIndex,g.length);var v=g[this.currentLegendIndex];l.focusChild(v),o=v.children[1].id,n=this.options.enableHighlight?"ArrowMove":""}else if(o.indexOf("_Series_")>-1){s=a.parentElement.parentElement;var b=i.target;if(a.removeAttribute("tabindex"),a.blur(),"ArrowRight"==i.code||"ArrowLeft"==i.code){for(var y=[],x=0;x<s.children.length;x++)s.children[x].id.indexOf("SeriesGroup")>-1&&y.push(+s.children[x].id.split("SeriesGroup")[1]);this.currentSeriesIndex=y.indexOf(this.currentSeriesIndex)+("ArrowRight"==i.code?1:-1),this.currentPointIndex=0,this.currentSeriesIndex=y[l.getActualIndex(this.currentSeriesIndex,y.length)],s=l.getElement(this.element.id+"SeriesGroup"+this.currentSeriesIndex),r=l.getElement(this.element.id+"SymbolGroup"+this.currentSeriesIndex),b=-1==s.children[1].id.indexOf("_Point_")&&r?r.children[1]:s.children[1]}else this.currentPointIndex+="ArrowUp"==i.code?1:-1,o.indexOf("_Symbol")>-1?(this.currentPointIndex=l.getActualIndex(this.currentPointIndex,l.getElement(this.element.id+"SymbolGroup"+this.currentSeriesIndex).childElementCount-1),b=l.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):o.indexOf("_Point_")>-1&&(this.currentPointIndex=l.getActualIndex(this.currentPointIndex,l.getElement(this.element.id+"SeriesGroup"+this.currentSeriesIndex).childElementCount-1),b=l.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex));o=l.focusChild(b),n=this.options.showTooltip?"ArrowMove":""}}else"Enter"!=i.code&&"Space"!=i.code||!(o.indexOf("_chart_legend_")>-1||o.indexOf("_Point_")>-1)||(o=o.indexOf("_chart_legend_page")>-1?o:o.indexOf("_chart_legend_")>-1?a.children[1].id:o,n="Enter")}if(""!=n){if("ArrowMove"==n||"Tab"==n)if(o.indexOf("_Point_")>-1){var B,S=parseInt(o.split("_Series_")[1].split("_Point_")[0]),I=parseInt(o.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1]);this.userInteractionBase.visibleSeries.forEach((function(e){e.index===S&&(B=e)}));var E=B.points[I].s[0];this.mouseX=E.x+this.userInteractionBase.initialRect.x,this.mouseY=E.y+this.userInteractionBase.initialRect.y,l.tooltipMousemovehandler(this)}else l.removeTooltip(1,this);"ESC"==n&&l.removeTooltip(1,this),this.processPointSelection(e,t,o,n),e.invokeMethodAsync("OnChartKeyboardNavigations",n,o)}return!1},e.prototype.mouseLeave=function(e,t,i){return null!=this.tooltipBase.tooltipModule&&l.removeTooltip(1e3,this),null!=this.crosshairBase.crosshair&&l.removeCrosshair(this,1e3),this.dotnetref=e,e.invokeMethodAsync("OnChartMouseLeave",this.getEventArgs(i,t)),!1},e.prototype.longPress=function(e,t,i){this.dotnetref=e;var s=i&&i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].clientX:0,r=i&&i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].clientY:0;this.setMouseXY(s,r,t);this.mouseX,this.mouseY;return this.userInteractionBase.startMove=!0,this.tooltipBase.tooltipModule.enable&&this.crosshairBase.crosshair.enable&&sf.svgbase.withInAreaBounds(this.mouseX,this.mouseY,this.userInteractionBase.axisClipRect)&&l.tooltip(this),this.crosshairBase.crosshair.enable&&sf.svgbase.withInAreaBounds(this.mouseX,this.mouseY,this.userInteractionBase.axisClipRect)&&l.createCrosshair(this),!1},e.prototype.domMouseMove=function(e,t,i){if((null==this.domMouseMoveThreshold||(new Date).getTime()-this.domMouseMoveThreshold>this.eventInterval)&&(this.domMouseMoveThreshold=(new Date).getTime(),!sf.base.isNullOrUndefined(l.svgId)&&l.svgId.indexOf(t)>-1)){var s=l.getScrollEventArgs(i,!0);e.invokeMethodAsync("ScrollMouseMove",s)}return!1},e.prototype.domMouseUp=function(e,t,i){if(!sf.base.isNullOrUndefined(l.svgId)&&l.svgId.indexOf(t)>-1){var s=l.getScrollEventArgs(i,!0);e.invokeMethodAsync("ScrollMouseUp",s),l.svgId=null}return!1},e}(),t=function(e,t){this.series=e,this.point=t},i=function(e,t){this.x=e,this.y=t},s=function(e,t,i){this.r=e,this.g=t,this.b=i},r=function(){this.currentPoints=[],this.previousPoints=[],this.valueX=0,this.valueY=0,this.tooltipTempList=[]},n=function(){this.markerCurrentPoints=[],this.markerPreviousPoints=[],this.trackBallClass="EJ2-TrackBall"},o=function(){this.crosshairX=0,this.crosshairY=0,this.rx=2,this.ry=2},a=function(){this.lierIndex=0,this.chartStartMove=!0,this.axes=[],this.isFirstRendered=!0,this.toolbarHeight=43},l={initialize:function(t,i,s,r,n,o,a){new e(t,i.id,i,s,r,n,o,a).render()},destroy:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.destroy()},setHighlightSelectionOptions:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||i.selectionHighlightOptions(t)},setTooltipData:function(e,t,i,s,r,n,o,a){var l=window.sfBlazor.getCompInstance(e);l.tooltipBase.tooltipModule&&(this.removeTooltip(100,l),this.removeCrosshair(l,100)),n&&(null!=l.tooltipBase.tooltipModule.template&&(n.template=l.tooltipBase.tooltipModule.template),l.tooltipBase.tooltipModule=n),l.dateValuePairs=o,l.numberValuePairs=a,l.userInteractionBase.chartStartMove=!1,l.getTooltipData(t,i,s,r),l.userInteractionBase.chartStartMove=!0,l.isDataLoaded&&setTimeout((function(){l.removeTooltipData()}),500)},setTooltipOptions:function(e,t,i,s,r,n,o,a,l){var h=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(h)||(h.dateValuePairs=a,h.numberValuePairs=l,h.userInteractionBase.chartStartMove=!1,h.tooltipOptions(t,i),sf.base.isNullOrUndefined(h.userInteractionBase.visibleSeries)&&h.getVisibleSeries(h,s,r,n,o),h.userInteractionBase.chartStartMove=!0)},setUIBooleanValues:function(e,t,i,s){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r)||(r.userInteractionBase.isPointDragging=s,r.userInteractionBase.isPointMouseDown=t,r.userInteractionBase.disableTrackTooltip=i)},setTooltipArgsData:function(e,t,i){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(s.tooltipBase.formattedText=[],s.tooltipBase.argsData.headerText=t,s.tooltipBase.argsData.text=i,this.seriesTooltip(s,s.tooltipBase.currentPoints[0],!0))},setSharedTooltipArgsData:function(e,t,i){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(s.tooltipBase.sharedArgsData.headerText=t,s.tooltipBase.sharedArgsData.text=i,this.groupedTooltip(s,s.tooltipBase.currentPoints,!0,s.tooltipBase.currentPoints[s.tooltipBase.currentPoints.length-1]))},invokeBlurEffect:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||this.blurEffect(t.element.id,t)},invokeRemoveSelectedElements:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||(t.selectedDataIndexes=[],t.styleId=t.element.id+"_ej2_chart_selection",this.removeSelectedElements(e))},redrawSelection:function(e){var t=window.sfBlazor.getCompInstance(e);t.isSeriesMode="Series"==t.oldMode;var i=t.selectedDataIndexes,s=t.highlightDataIndexes;t.styleId.indexOf("highlight")>-1&&t.highlightDataIndexes.length>0?(t.highlightDataIndexes=[],this.removeSelectedElements(e),i=s):(t.selectedDataIndexes=[],this.removeSelectedElements(e)),this.blurEffect(t.element.id,t),this.selectDataIndex(t.dataId,i)},removeSelectionStyles:function(e){var t=window.sfBlazor.getCompInstance(e);t.highlightDataIndexes=[];for(var i=0;i<t.seriesTypes.length;i++)this.removeLegendSelectionClass(document.getElementsByClassName(t.unSelected),t),this.removeLegendSelectionClass(document.getElementsByClassName(this.generateStyle(t.element.id+"SeriesGroup"+i,t)),t),this.removeLegendSelectionClass(this.getSeriesElements(i,t),t);for(i=0;i<t.seriesTypes.length;i++)this.removeSvgClass(this.findDOMElement(t.element.id+"_chart_legend_shape_"+i),this.findDOMElement(t.element.id+"_chart_legend_shape_"+i).getAttribute("class"))},removeLegendSelectionClass:function(e,t){for(var i=0,s=e;i<s.length;i++){var r=s[i];sf.base.isNullOrUndefined(r)||(this.removeSvgClass(r,r.getAttribute("class")),sf.base.isNullOrUndefined(t.highlightColor)||"None"!=t.highlightPattern||r.setAttribute("fill",t.highlightColor))}},removeSelectedElements:function(e){for(var t=window.sfBlazor.getCompInstance(e),i=0;i<t.seriesTypes.length;i++)this.removeStyles(this.getSeriesElements(i,t),t)},selectionChart:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(i.currentMode=i.selectionMode,i.styleId=i.element.id+"_ej2_chart_selection",this.selection(i,t,this.findElements(i,"",t)))},selectDataIndex:function(e,t){var i=this,s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(this.isAlreadySelected({type:"click"},s),t.forEach((function(e){var t="#"+s.element.id+"_Series_"+e.series+"_Point_"+e.point;i.performSelection(e,s,s.element.querySelector(t))})))},focusTarget:function(e){var t,i;e.indexOf("_chart_legend_")>-1?(i=(t=this.getElement(e).parentElement).getAttribute("class"),this.setTabIndex(this.getElement(this.id+"_chart_legend_translate_g").firstElementChild,this.getElement(this.id+"SeriesCollection").firstElementChild),t.setAttribute("tabindex","0"),i&&-1===i.indexOf("e-chart-focused")?i+=" e-chart-focused":i||(i="e-chart-focused")):(t=this.getElement(e),i="e-chart-focused"),t.setAttribute("tabindex","0"),t.setAttribute("class",i),t.focus()},focusChild:function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&-1===t.indexOf("e-chart-focused")?t+=" e-chart-focused":t||(t="e-chart-focused"),e.setAttribute("class",t),e.focus(),e.id},getActualIndex:function(e,t){return e>t-1?0:e<0?t-1:e},setTabIndex:function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},eventInterval:80,dotnetref:{},getScrollEventArgs:function(e,t){void 0===t&&(t=!1);var i=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY,r=this.setScrollMouseXY(i,s,e.target.id,t),n=e.touches,o=[];if(e.type.indexOf("touch")>-1)for(var a=0,l=n.length;a<l;a++)o.push({pageX:n[a].clientX,pageY:n[a].clientY,pointerId:e.pointerId||0});var h=e.target.id;return h=h.indexOf("scrollBar")>-1?h:this.svgId,{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:r.mouseX,mouseY:r.mouseY,pointerType:e.pointerType,target:h,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:o,pointerId:e.pointerId}},getScrollWheelArgs:function(e){var t=this.setScrollMouseXY(e.clientX,e.clientY,e.currentTarget.id);return{detail:e.detail,wheelDelta:e.wheelDelta,target:e.currentTarget?e.currentTarget.id:e.srcElement?e.srcElement.id:e.target?e.target.id:"",clientX:e.clientX,clientY:e.clientY,mouseX:t.mouseX,mouseY:t.mouseY,browserName:sf.base.Browser.info.name,isPointer:sf.base.Browser.isPointer}},svgId:null,setScrollMouseXY:function(e,t,i,s){if(void 0===s&&(s=!1),this.svgId=s?this.svgId:i,!s&&-1===i.indexOf("_scrollBar_svg")){var r=i.split("_scrollBar")[0],n=i.split("_");this.svgId=r+"_scrollBar_svg"+n[n.length-1],this.dotnetref=this.dotnetrefCollection.find((function(e){return r===e.id})).dotnetref}var o=e,a=t,l=this.getElement(this.svgId);if(!sf.base.isNullOrUndefined(l)){var h=l.getBoundingClientRect();o=e-Math.max(h.left,0),a=t-Math.max(h.top,0)}return{mouseX:o,mouseY:a}},scrollMouseDown:function(e){var t=this.getScrollEventArgs(e);return sf.base.isNullOrUndefined(this.dotnetref.invokeMethodAsync)||this.dotnetref.invokeMethodAsync("ScrollMouseDown",t),!1},scrollMouseMove:function(e){if(null==this.scrollMouseMoveThreshold||(new Date).getTime()-this.scrollMouseMoveThreshold>this.eventInterval){this.scrollMouseMoveThreshold=(new Date).getTime();var t=this.getScrollEventArgs(e);sf.base.isNullOrUndefined(this.dotnetref.invokeMethodAsync)||this.dotnetref.invokeMethodAsync("ScrollMouseMove",t)}return!1},scrollMouseUp:function(e){var t=this.getScrollEventArgs(e);return sf.base.isNullOrUndefined(this.dotnetref.invokeMethodAsync)||this.dotnetref.invokeMethodAsync("ScrollMouseUp",t),this.svgId=null,!1},scrollMouseWheel:function(e){if(null==this.scrollbarMouseWheelThreshold||(new Date).getTime()-this.scrollbarMouseWheelThreshold>this.eventInterval){this.scrollbarMouseWheelThreshold=(new Date).getTime();var t=this.getScrollWheelArgs(e);this.dotnetref.invokeMethodAsync("ScrollMouseWheel",t)}return!1},dotnetrefCollection:[],tooltipMousemovehandler:function(e){e.userInteractionBase.isPointMouseDown?this.removeTooltip(1e3,e):e.userInteractionBase.disableTrackTooltip||this.isSelected()||!e.tooltipBase.tooltipModule.enable||(!e.tooltipBase.tooltipModule.shared&&(!e.isTouch||e.userInteractionBase.startMove)||sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect)&&e.tooltipBase.tooltipModule.shared&&(!e.isTouch||e.userInteractionBase.startMove)?this.tooltip(e):e.tooltipBase.tooltipModule.shared&&e.tooltipBase.isSharedRemove&&this.removeTooltip(1e3,e))},markerMove:function(e,t){var i=this;if(e.userInteractionBase.isPointMouseDown)this.removeMarker(e);else{var s,r,n;if(e.tooltipBase.tooltipModule.shared&&e.tooltipBase.tooltipModule.enable){if(!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect))return;if(e.tooltipBase.tooltipModule.enable){for(var o="PolarAxes"==e.userInteractionBase.chartAreaType?this.getData(e):null,a=0,l=e.userInteractionBase.visibleSeries;a<l.length;a++){var h=l[a];h.enableTooltip&&"Indicator"!=h.category&&h.visible&&("CartesianAxes"==e.userInteractionBase.chartAreaType&&h.visible?s=this.getClosestX(e,h):"PolarAxes"==e.userInteractionBase.chartAreaType&&h.visible&&o.point&&(s={point:h.points[o.point.iX],series:h}),s&&!sf.base.isNullOrUndefined(s.point)&&e.markerExplodeBase.markerCurrentPoints.push(s))}e.markerExplodeBase.markerCurrentPoints=this.getSharedPoints(e,e.markerExplodeBase.markerCurrentPoints)}}else{n=(s=this.getData(e)).series;var d=e.markerExplodeBase.markerPreviousPoints.length>0?e.markerExplodeBase.markerPreviousPoints[0]:null;r=!sf.base.isNullOrUndefined(n)&&("Bubble"==n.type||"Scatter"==n.drawType||"Scatter"==n.type||"Candle"!=n.type&&"Hilo"!=n.type&&"HiloOpenClose"!=n.type&&n.marker.vS&&0!=n.marker.mW&&0!=n.marker.mH),s.lierIndex=e.userInteractionBase.lierIndex,s.point&&r&&(null==d||d.point!=s.point||d.lierIndex>3&&d.lierIndex!=e.userInteractionBase.lierIndex)&&e.markerExplodeBase.markerCurrentPoints.push(s),s.point&&r&&e.userInteractionBase.isPointMouseDown&&e.markerExplodeBase.markerCurrentPoints.push(s)}if(e.markerExplodeBase.markerCurrentPoints.length>0&&(0==e.markerExplodeBase.markerPreviousPoints.length||e.userInteractionBase.isPointMouseDown||e.markerExplodeBase.markerPreviousPoints.length>0&&e.markerExplodeBase.markerPreviousPoints[0].point!=e.markerExplodeBase.markerCurrentPoints[0].point)){e.markerExplodeBase.markerPreviousPoints.length>0&&this.removeMarker(e);for(var c=0;c<e.markerExplodeBase.markerCurrentPoints.length;c++){var u=(o=e.markerExplodeBase.markerCurrentPoints[c]).series,p=o.point;if(p.mK=p.mK?p.mK:{vS:!1},o&&p||n&&"Candle"!=n.type&&"Hilo"!=n.type&&"HiloOpenClose"!=n.type){window.clearTimeout(e.markerExplodeBase.markerExplodeInterval),e.markerExplodeBase.isRemove=!0;for(var f=0;f<p.s.length;f++)this.isRectSeries(u.type)&&!p.mK.vS||this.trackBall(e,u,p,p.s[f],f)}}e.markerExplodeBase.markerPreviousPoints=[],e.markerExplodeBase.markerPreviousPoints=e.markerExplodeBase.markerPreviousPoints.concat(e.markerExplodeBase.markerCurrentPoints)}!e.tooltipBase.tooltipModule.enable&&(0==e.markerExplodeBase.markerCurrentPoints.length&&e.markerExplodeBase.isRemove||t&&e.markerExplodeBase.isRemove||e.userInteractionBase.axisClipRect&&!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect))&&(e.markerExplodeBase.isRemove=!1,e.markerExplodeBase.markerExplodeInterval=+setTimeout((function(){i.removeMarker(e)}),2e3)),e.markerExplodeBase.markerCurrentPoints=[]}},trackBall:function(e,t,i,s,r,n){for(var o=i.mK,a=t.marker,l=e.element.id+"_Series_"+t.index+"_Point_"+i.iX+"_Trackball"+(r&&0!=r?"_"+r:""),h={width:(o.mW?o.mW:a.mW)+3,height:(o.mH?o.mH:a.mH)+3},d=o.b||t.border,c=d.cL&&"transparent"!=d.cL?d.cL:o.f?o.f:i.i?i.i:t.interior,u=this.convertHexToColor(this.colorNameToHex(c)),p=o.b?o.b.wT:a.b.wT,f="rgba("+u.r+","+u.g+","+u.b+",0.2)",m="CartesianAxes"==e.userInteractionBase.chartAreaType?"translate("+t.clipRect.x+","+t.clipRect.y+")":"",g="Bubble"==t.type||"Scatter"==t.type?"url(#"+e.clipPathID(t.index)+")":"url(#"+e.markerClipPathId(t.index)+")",v=o.sH?o.sH:a.sH,b=0;b<2;b++){var y=new sf.svgbase.PathOption(l+"_"+b,b>0?o.f||i.i||(n?t.interior:"#ffffff"):"transparent",p+(b>0?0:8),b>0?c:f,o.oP||a.oP,"",null),x=this.calculateShapes(s,h,v,y,a.iU,!1);this.drawTrackBall(e.element.id+"_svg",x.renderOption,x.functionName,e.markerExplodeBase.trackBallClass,g,m)}},colorNameToHex:function(e){e="transparent"===e?"white":e,document.body.appendChild(sf.base.createElement("text",{id:"chartmeasuretext"}));var t=document.getElementById("chartmeasuretext");t.style.color=e,e=window.getComputedStyle(t).color,sf.base.remove(t);var i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return this.convertToHexCode(new s(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)))},convertToHexCode:function(e){return"#"+this.componentToHex(e.r)+this.componentToHex(e.g)+this.componentToHex(e.b)},componentToHex:function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},convertHexToColor:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new s(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new s(255,255,255)},calculateShapes:function(e,t,i,s,r,n){var o,a,l,h="path",d=n,c=d&&"Circle"===i?t.width-2:t.width,u=d&&"Circle"===i?t.height-2:t.height,p=e.x,f=e.y,m=e.y+-u/2,g=e.x+-c/2;switch(i){case"Bubble":case"Circle":h="ellipse",sf.base.merge(s,{rx:c/2,ry:u/2,cx:p,cy:f});break;case"Cross":o="M "+g+" "+f+" L "+(p+c/2)+" "+f+" M "+p+" "+(f+u/2)+" L "+p+" "+(f+-u/2),sf.base.merge(s,{d:o,stroke:s.fill});break;case"Multiply":o="M "+(p-0)+" "+(f-0)+" L "+(p+0)+" "+(f+0)+" M "+(p-0)+" "+(f+0)+" L "+(p+0)+" "+(f-0),sf.base.merge(s,{d:o,stroke:s.fill});break;case"HorizontalLine":o="M "+g+" "+f+" L "+(p+c/2)+" "+f,sf.base.merge(s,{d:o});break;case"VerticalLine":o="M "+p+" "+(f+u/2)+" L "+p+" "+(f+-u/2),sf.base.merge(s,{d:o});break;case"Diamond":o="M "+g+" "+f+" L "+p+" "+(f+-u/2)+" L "+(p+c/2)+" "+f+" L "+p+" "+(f+u/2)+" L "+g+" "+f+" z",sf.base.merge(s,{d:o});break;case"ActualRect":o="M "+g+" "+(f+-u/8)+" L "+(p+0)+" "+(f+-u/8)+" L "+(p+0)+" "+(f+u/8)+" L "+g+" "+(f+u/8)+" L "+g+" "+(f+-u/8)+" z",sf.base.merge(s,{d:o});break;case"TargetRect":o="M "+(g+0)+" "+(f+-u/2)+" L "+(p+0)+" "+(f+-u/2)+" L "+(p+0)+" "+(f+u/2)+" L "+(g+0)+" "+(f+u/2)+" L "+(g+0)+" "+(f+-u/2)+" z",sf.base.merge(s,{d:o});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"StackingStepArea":case"Square":case"Flag":o="M "+g+" "+(f+-u/2)+" L "+(p+c/2)+" "+(f+-u/2)+" L "+(p+c/2)+" "+(f+u/2)+" L "+g+" "+(f+u/2)+" L "+g+" "+(f+-u/2)+" z",sf.base.merge(s,{d:o});break;case"Pyramid":case"Triangle":o="M "+g+" "+(f+u/2)+" L "+p+" "+(f+-u/2)+" L "+(p+c/2)+" "+(f+u/2)+" L "+g+" "+(f+u/2)+" z",sf.base.merge(s,{d:o});break;case"Funnel":case"InvertedTriangle":o="M "+(p+c/2)+" "+(f-u/2)+" L "+p+" "+(f+u/2)+" L "+(p-c/2)+" "+(f-u/2)+" L "+(p+c/2)+" "+(f-u/2)+" z",sf.base.merge(s,{d:o});break;case"Pentagon":for(var v=0;v<=5;v++)a=c/2*Math.cos(Math.PI/180*(72*v)),l=u/2*Math.sin(Math.PI/180*(72*v)),o=0===v?"M "+(p+a)+" "+(f+l)+" ":o.concat("L "+(p+a)+" "+(f+l)+" ");o=o.concat("Z"),sf.base.merge(s,{d:o});break;case"Image":h="Image",sf.base.merge(s,{href:r,height:u,width:c,x:g,y:m})}return{renderOption:s,functionName:h}},removeMarker:function(e){this.removeHighLightedMarker(e.markerExplodeBase.trackBallClass),e.markerExplodeBase.markerPreviousPoints=[]},crosshairMousemoveHandler:function(e){!e.userInteractionBase.disableTrackTooltip&&e.crosshairBase.crosshair.enable&&(!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect)||e.isTouch&&!e.userInteractionBase.startMove?this.removeCrosshair(e,1e3):this.createCrosshair(e))},removeCrosshair:function(e,t){var i=this.getElement("_UserInteraction"),s=this.getElement("_crosshair_axis");this.stopAnimation(e.crosshairBase.crosshairInterval),!e.userInteractionBase.isFirstRendered&&i&&"0"!==i.getAttribute("opacity")&&(e.crosshairBase.crosshairInterval=+setTimeout((function(){new sf.base.Animation({}).animate(i,{duration:200,progress:function(e){if(i.style.animation="",i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString()),s)for(;s.firstChild;)s.removeChild(s.firstChild)},end:function(){i.setAttribute("opacity","0"),e.tooltipBase.tooltipModule&&(e.tooltipBase.valueX=null,e.tooltipBase.valueY=null)}})}),t))},createCrosshair:function(e){var t,i=e.userInteractionBase.axisClipRect,s="",r="",n=e.crosshairBase.crosshair,o=document.getElementById("_UserInteraction");if(window.clearTimeout(e.crosshairBase.crosshairInterval),(!e.tooltipBase.tooltipModule.enable||sf.svgbase.withInAreaBounds(e.tooltipBase.valueX,e.tooltipBase.valueY,i))&&(e.crosshairBase.crosshairX=e.tooltipBase.tooltipModule.enable?e.tooltipBase.valueX:e.mouseX,e.crosshairBase.crosshairY=e.tooltipBase.tooltipModule.enable?e.tooltipBase.valueY:e.mouseY,e.userInteractionBase.isFirstRendered?(o.setAttribute("opacity","1"),o.setAttribute("style","pointer-events:none"),e.userInteractionBase.isFirstRendered=!1):o.setAttribute("opacity","1"),"Both"!==n.lineType&&"Horizontal"!==n.lineType||(s+="M "+i.x+" "+e.crosshairBase.crosshairY+" L "+(i.x+i.width)+" "+e.crosshairBase.crosshairY),"Both"!==n.lineType&&"Vertical"!==n.lineType||(r+="M "+e.crosshairBase.crosshairX+" "+i.y+" L "+e.crosshairBase.crosshairX+" "+(i.y+i.height)),0!=o.childNodes.length)){t=new sf.svgbase.PathOption("_HorizontalLine","none",n.line.width,n.line.color||e.crosshairBase.themeStyleCrosshairLine,null,n.dashArray,s),this.renderCrosshairLine(t,o.childNodes[0]),t=new sf.svgbase.PathOption("_VerticalLine","none",n.line.width,n.line.color||e.crosshairBase.themeStyleCrosshairLine,null,n.dashArray,r);var a={AxisInfo:[]};this.renderCrosshairLine(t,o.childNodes[3]),this.renderAxisTooltip(e,i,o.childNodes[6],a),e.tooltipBase.crosshairMouseMoveEventCalled&&e.dotnetref.invokeMethodAsync("OnCrosshairMove",a)}},renderAxisTooltip:function(e,t,i,s){var r,n,o,a,l,h,d,c;if(i)for(;i.firstChild;)i.removeChild(i.firstChild);for(var u=e.userInteractionBase.axes.length-1;u>=0;u--)if(c=(r=e.userInteractionBase.axes[u]).placeNextToAxisLine?r.updatedRect:r.rect,r.crosshairTooltip.enable&&(e.crosshairBase.crosshairX<=c.x+c.w&&c.x<=e.crosshairBase.crosshairX&&0!=c.w||e.crosshairBase.crosshairY<=c.y+c.h&&c.y<=e.crosshairBase.crosshairY&&0!=c.h)){if(a=document.getElementById(e.element.id+"_axis_tooltip_"+u),l=document.getElementById(e.element.id+"_axis_tooltip_text_"+u),!(n=this.getAxisText(e,r)))continue;if(sf.base.isNullOrUndefined(s)||s.AxisInfo.push({AxisName:r.name,AxisLabel:n}),o=this.tooltipLocation(e,n,r,t,new sf.svgbase.Rect(c.x,c.y,c.w,c.h)),null===a&&(a=e.userInteractionBase.svgRenderer.drawPath({id:e.element.id+"_axis_tooltip_"+u,fill:r.crosshairTooltip.fill||e.crosshairBase.themeStyleCrosshairFill})),l&&this.removeElement(l.id),i.appendChild(a),h=new sf.svgbase.TextOption(e.element.id+"_axis_tooltip_text_"+u,0,0,"start",n),l=sf.svgbase.textElement(h,r.crosshairTooltip.textStyle,r.crosshairTooltip.textStyle.color||e.crosshairBase.themeStyleCrosshairLabel,i),d=this.findCrosshairDirection(e.crosshairBase.rx,e.crosshairBase.ry,o,e.crosshairBase.arrowLocation,8,e.crosshairBase.isTop,e.crosshairBase.isBottom,e.crosshairBase.isLeft,e.crosshairBase.crosshairX,e.crosshairBase.crosshairY),a.setAttribute("d",d),l.textContent=n,l.setAttribute("x",(o.x+5+(e.userInteractionBase.enableRTL?e.crosshairBase.elementSize.width:0)).toString()),l.setAttribute("y",(o.y+5+3*e.crosshairBase.elementSize.height/4).toString()),"Fluent"===e.userInteractionBase.theme||"FluentDark"===e.userInteractionBase.theme){var p=e.element.id+"_shadow";a.setAttribute("filter",sf.base.Browser.isIE?"":"url(#"+p+")");var f='<filter id="'+p+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';f+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',f+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var m=e.userInteractionBase.svgRenderer.createDefs();m.setAttribute("id",e.element.id+"SVG_tooltip_definition"),i.appendChild(m),m.innerHTML=f,a.setAttribute("stroke","#cccccc"),a.setAttribute("stroke-width","0.5")}}},getAxisText:function(e,t){var i;e.crosshairBase.isBottom=!1,e.crosshairBase.isTop=!1,e.crosshairBase.isLeft=!1,e.crosshairBase.isRight=!1;var s="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0,r=t.isAxisOppositePosition;if("Horizontal"===t.orientation?(i=this.getValueByPoint(Math.abs(e.crosshairBase.crosshairX-t.rect.x),t.rect.w,t.orientation,t.visibleRange,t.isAxisInverse)+s,e.crosshairBase.isBottom=!r,e.crosshairBase.isTop=r):(i=this.getValueByPoint(Math.abs(e.crosshairBase.crosshairY-t.rect.y),t.rect.h,t.orientation,t.visibleRange,t.isAxisInverse)+s,e.crosshairBase.isRight=r,e.crosshairBase.isLeft=!r),"DateTime"===t.valueType){var n=(new sf.base.Internationalization).getDateFormat({format:t.format?t.format:t.dateFormat,type:this.firstToLowerCase("DateTime")})(new Date(i));return this.getGlobalizedDate(n,e.dateValuePairs)}if("Category"===t.valueType)return i<t.labels.length?t.labels[Math.floor(i)]:"";if("DateTimeCategory"===t.valueType)return this.getIndexedAxisLabel(t.labels[Math.floor(i)],this.customFormat(t),e.dateValuePairs);if("Logarithmic"===t.valueType){var o=this.formatAxisValue(Math.pow(t.logBase,i),this.getaxisFormat(t).indexOf("{value}")>-1,t.labelFormat).replace(/\,/g,"");return this.getGlobalizedNumber(o,e.numberValuePairs)}var a=t.labelFormat&&null!==t.labelFormat.match("{value}");o=a?t.labelFormat.replace("{value}",this.formatAxisValue(i,a,t.labelFormat,3)).replace(/\,/g,""):this.formatAxisValue(i,a,t.labelFormat,3).replace(/\,/g,"");return this.getGlobalizedNumber(o,e.numberValuePairs)},getGlobalizedDate:function(e,t){return Object.keys(t).forEach((function(i){e=e.replaceAll(i,t[i])})),e},getGlobalizedNumber:function(e,t){for(var i=e.split(""),s=Object.keys(t),r=0,n=e.length;r<n;r++)for(var o=0,a=s.length;o<a;o++)if(i[r]==s[o]){i.splice(r,1,t[s[o]]);break}return i.join("")},firstToLowerCase:function(e){return e.substr(0,1).toLowerCase()+e.substr(1)},getaxisFormat:function(e){return e.labelFormat?0!=e.labelFormat.indexOf("p")||e.labelFormat.indexOf("{value}")>-1||!e.isStack100?e.labelFormat:"{value}%":e.isStack100?"{value}%":""},getIndexedAxisLabel:function(e,t,i){for(var s=e.split(","),r=0;r<s.length;r++)s[r]=this.getGlobalizedDate((new sf.base.Internationalization).getDateFormat({format:t})(new Date(parseInt(s[r],10))),i);return s.join(", ")},customFormat:function(e){return e.labelFormat?e.labelFormat:"Years"===e.actualIntervalType?"yyyy":this.getSkeleton(e)},getSkeleton:function(e){var t=e.rangeIntervalType;return e.format?e.format:"Years"===t||"Quarter"===t?"y":"Months"===t||"Weeks"===t?"MMMM d":"Days"===t?"MM/dd/yyyy":"Hours"===t?"HH:mm tt":"HH:mm:ss tt"},tooltipLocation:function(e,t,s,r,n){var o,a=r.x,l=r.y,h="Inside"===s.labelPosition,d=s.scrollbarSettingsEnable?s.scrollBarHeight:0;e.crosshairBase.elementSize=sf.svgbase.measureText(t,s.crosshairTooltip.textStyle);var c=s.isAxisOppositePosition;if("Horizontal"===s.orientation){var u=h?n.y-e.crosshairBase.elementSize.height-20:n.y+d,p=h?n.y-e.crosshairBase.elementSize.height-10:n.y+10;e.crosshairBase.arrowLocation=new i(e.crosshairBase.crosshairX,u),o=new sf.svgbase.Rect(e.crosshairBase.crosshairX-e.crosshairBase.elementSize.width/2-5,p+(h?0:d),e.crosshairBase.elementSize.width+10,e.crosshairBase.elementSize.height+10),c&&(o.y=h?n.y:n.y-(e.crosshairBase.elementSize.height+20)-d),o.x<a&&(o.x=a),o.x+o.width>a+r.width&&(o.x-=o.x+o.width-(a+r.width)),e.crosshairBase.arrowLocation.x+4>o.x+o.width-e.crosshairBase.rx&&(e.crosshairBase.arrowLocation.x=o.x+o.width-e.crosshairBase.rx-8),e.crosshairBase.arrowLocation.x-8<o.x+e.crosshairBase.rx&&(e.crosshairBase.arrowLocation.x=o.x+e.crosshairBase.rx+8)}else{d*=c?1:-1,e.crosshairBase.arrowLocation=new i(n.x,e.crosshairBase.crosshairY);var f=h?n.x-d:n.x-e.crosshairBase.elementSize.width-20;o=new sf.svgbase.Rect(f+d,e.crosshairBase.crosshairY-e.crosshairBase.elementSize.height/2-5,e.crosshairBase.elementSize.width+10,e.crosshairBase.elementSize.height+10),c?(o.x=h?n.x-e.crosshairBase.elementSize.width-8:n.x+8+d,o.x+o.width>e.userInteractionBase.availableSize.width&&(e.crosshairBase.arrowLocation.x-=o.x+o.width-e.userInteractionBase.availableSize.width,o.x-=o.x+o.width-e.userInteractionBase.availableSize.width)):o.x<0&&(e.crosshairBase.arrowLocation.x-=o.x,o.x=0),o.y<l&&(o.y=l),o.y+o.height>=l+r.height&&(o.y-=o.y+o.height-(l+r.height)),e.crosshairBase.arrowLocation.y+4>o.y+o.height-e.crosshairBase.ry&&(e.crosshairBase.arrowLocation.y=o.y+o.height-e.crosshairBase.ry-4),e.crosshairBase.arrowLocation.y-4<o.y+e.crosshairBase.ry&&(e.crosshairBase.arrowLocation.y=o.y+e.crosshairBase.ry+4)}return o},findCrosshairDirection:function(e,t,i,s,r,n,o,a,l,h){var d="",c=i.x,u=i.y,p=i.x+i.width,f=i.y+i.height;return n?(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u)).concat(" L "+(p-e)+" "+u+" Q "+p+" "+u+" "+p+" "+(u+t))).concat(" L "+p+" "+(f-t)+" Q "+p+" "+f+" "+(p-e)+" "+f),0!==r&&(d=(d=d.concat(" L "+(s.x+r/2)+" "+f)).concat(" L "+l+" "+(f+r)+" L "+(s.x-r/2)+" "+f)),d=s.x-r/2>c||0===r?d.concat(" L "+(c+e)+" "+f+" Q "+c+" "+f+" "+c+" "+(f-t)+" z"):d.concat(" L "+c+" "+(f+t)+" z")):d=o?(d=(d=(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u+" L "+(s.x-r/2)+" "+u)).concat(" L "+l+" "+s.y)).concat(" L "+(s.x+r/2)+" "+u)).concat(" L "+(p-e)+" "+u+" Q "+p+" "+u+" "+p+" "+(u+t))).concat(" L "+p+" "+(f-t)+" Q "+p+" "+f+" "+(p-e)+" "+f)).concat(" L "+(c+e)+" "+f+" Q "+c+" "+f+" "+c+" "+(f-t)+" z"):a?(d=(d=(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u)).concat(" L "+(p-e)+" "+u+" Q "+p+" "+u+" "+p+" "+(u+t)+" L "+p+" "+(s.y-r/2))).concat(" L "+(p+r)+" "+h)).concat(" L "+p+" "+(s.y+r/2))).concat(" L "+p+" "+(f-t)+" Q "+p+" "+f+" "+(p-e)+" "+f)).concat(" L "+(c+e)+" "+f+" Q "+c+" "+f+" "+c+" "+(f-t)+" z"):(d=(d=(d=(d=(d=d.concat("M "+(c+e)+" "+u+" Q "+c+" "+u+" "+c+" "+(u+t)+" L "+c+" "+(s.y-r/2))).concat(" L "+(c-r)+" "+h)).concat(" L "+c+" "+(s.y+r/2))).concat(" L "+c+" "+(f-t)+" Q "+c+" "+f+" "+(c+e)+" "+f)).concat(" L "+(p-e)+" "+f+" Q "+p+" "+f+" "+p+" "+(f-t))).concat(" L "+p+" "+(u+t)+" Q "+p+" "+u+" "+(p-e)+" "+u+" z"),d},renderCrosshairLine:function(e,t){for(var i=Object.keys(e),s="",r=0;r<i.length;r++)"id"!=(s="strokeWidth"===i[r]?"stroke-width":"strokeDashArray"===i[r]?"stroke-dashArray":"direction"===i[r]?"d":i[r])&&t.setAttribute(s,e[i[r]])},isSelected:function(){return!1},getTooltipElement:function(e){e.tooltipBase.header=null===e.tooltipBase.tooltipModule.header?e.tooltipBase.tooltipModule.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":e.getTooltipFormat(e.tooltipBase.tooltipModule.header),e.tooltipBase.formattedText=[]},findData:function(e,t,i){return e.point&&(!t||t.point!==e.point||t.lierIndex>3&&t.lierIndex!=i||t.point===e.point)},renderSeriesTooltip:function(e,t){var i=this.getData(t);if(i.lierIndex=t.userInteractionBase.lierIndex,t.tooltipBase.currentPoints=[],this.findData(i,t.tooltipBase.previousPoints.length>0?t.tooltipBase.previousPoints[0]:null,t.userInteractionBase.lierIndex)){if(window.clearTimeout(t.tooltipBase.toolTipInterval),!i.series.dataEditSettings&&t.tooltipBase.previousPoints[0]&&i.point.iX===t.tooltipBase.previousPoints[0].point.iX&&i.series.index===t.tooltipBase.previousPoints[0].series.index)return t.tooltipBase.isRemove=!0,null;this.pushData(i,t)&&this.triggerTooltipRender(i,e,this.getTooltipText(i,t),this.findHeader(i,t),t)}else if(!i.point&&t.tooltipBase.isRemove)this.removeTooltip(1e3,t),t.tooltipBase.isRemove=!1;else for(var s=0,r=t.userInteractionBase.visibleSeries;s<r.length;s++){var n=r[s];n.visible&&"TrendLine"!==n.category&&(i=this.getClosestX(t,n)||i)}i&&i.point&&this.findMouseValue(i,t)},triggerTooltipRender:function(e,t,i,s,r){r.tooltipBase.argsData={data:{pointX:e.point.x?e.point.x.toString():"",pointY:e.point.y?e.point.y.toString():"",seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.iX,pointText:e.point.t},headerText:s,point:e.point,series:e.series,text:i},r.tooltipBase.tooltipEventCalled?r.dotnetref.invokeMethodAsync("TooltipEventTriggered",r.tooltipBase.argsData):this.seriesTooltip(r,e,t)},seriesTooltip:function(e,t,s){var r=[];if(null!=t){"BoxAndWhisker"===t.series.type&&(s=!0),e.tooltipBase.header=e.tooltipBase.argsData.headerText,e.tooltipBase.formattedText=e.tooltipBase.formattedText.concat(e.tooltipBase.argsData.text);var n=new i(t.series.clipRect.x,t.series.clipRect.y);if(null!=e.tooltipBase.tooltipModule.template&&e.tooltipBase.currentPoints.length>0){e.tooltipBase.tooltipTempList=[];var o=t.point,a={x:o.x?o.x.toString():"",y:o.y?o.y.toString():"",text:o.t.toString(),high:o.h?o.h.toString():"",low:o.l?o.l.toString():"",open:o.o?o.o.toString():"",close:o.c?o.c.toString():"",volume:o.v?o.v.toString():"",pointX:o.x?o.x.toString():"",pointY:o.y?o.y.toString():"",seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.iX,pointText:t.point.t};e.tooltipBase.tooltipTempList.push(a);var l=this.getSymbolLocation(t,e),h=this.isRectSeries(t.series.type)&&"Waterfall"!=t.series.type&&t.point&&parseInt(o.y?o.y.toString():"")<0,d=e.userInteractionBase.isInverted&&h,c=this.getTemplateLocation(e.userInteractionBase.axisClipRect,l,e.tooltipBase.tooltipElementSize.width,e.tooltipBase.tooltipElementSize.height,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),n,d,h);e.dotnetref.invokeMethodAsync("SetTooltipTemplateElementSizeAsync",c.x,c.y,e.tooltipBase.tooltipTempList),this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,r)}else{var u=e.userInteractionBase.chartBorderWidth;this.createTooltipRenderer(e,s,this.getSymbolLocation(t,e),n,t.point,this.findShapes(e),this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),new sf.svgbase.Rect(u,u,e.userInteractionBase.availableSize.width-3-2*u,e.userInteractionBase.availableSize.height-3-2*u),e.crosshairBase.crosshair.enable,r,null,"")}}else this.removeHighlight(e);e.tooltipBase.isRemove=!0},groupedTooltip:function(e,t,s,r){var n=t[t.length-1];if(null!=r&&e.tooltipBase.currentPoints.length>0){var o=[];e.tooltipBase.header=e.tooltipBase.sharedArgsData.headerText,e.tooltipBase.formattedText=e.tooltipBase.sharedArgsData.text,this.findMouseValue(r,e);var a=1==e.tooltipBase.currentPoints.length?new i(e.tooltipBase.currentPoints[0].series.clipRect.x,e.tooltipBase.currentPoints[0].series.clipRect.y):new i(0,0);if(null!=e.tooltipBase.tooltipModule.template&&e.tooltipBase.currentPoints.length>0){e.tooltipBase.tooltipTempList=[];for(var l=0;l<t.length;l++){var h=t[l].point,d={x:h.x?h.x.toString():"",y:h.y?h.y.toString():"",text:h.t.toString(),high:h.h?h.h.toString():"",low:h.l?h.l.toString():"",open:h.o?h.o.toString():"",close:h.c?h.c.toString():"",volume:h.v?h.v.toString():"",pointX:h.x?h.x.toString():"",pointY:h.y?h.x.toString():"",seriesIndex:t[l].series.index,seriesName:t[l].series.name,pointIndex:t[l].point.iX,pointText:t[l].point.t};e.tooltipBase.tooltipTempList.push(d)}var c=this.findSharedLocation(e),u=e.tooltipBase.currentPoints[0].series,p=this.isRectSeries(u.type)&&"Waterfall"!=u.type&&n.point&&parseInt(n.point.y?n.point.y.toString():"")<0,f=e.userInteractionBase.isInverted&&p,m=this.getTemplateLocation(e.userInteractionBase.axisClipRect,c,0,0,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),a,f,p);e.dotnetref.invokeMethodAsync("SetTooltipTemplateElementSizeAsync",m.x,m.y,e.tooltipBase.tooltipTempList),this.setTooltipTemplateElementSize(e,c,a,f,p),this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,o)}else{var g=e.userInteractionBase.chartBorderWidth;this.createTooltipRenderer(e,s,this.findSharedLocation(e),a,r.point,this.findShapes(e),this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),new sf.svgbase.Rect(g,g,e.userInteractionBase.availableSize.width-3-2*g,e.userInteractionBase.availableSize.height-3-2*g),e.crosshairBase.crosshair.enable,o,null,"")}}else[].push(n);e.tooltipBase.isSharedRemove=!0},setTooltipTemplateElementSize:function(e,t,i,s,r){var n=this.getTemplateSize(e.element.id+"_tooltip");if(n&&e.tooltipBase.currentPoints.length>0){var o=this.getTemplateLocation(e.userInteractionBase.axisClipRect,t,n.width,n.height,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),i,s,r);o.x+=e.userInteractionBase.secondaryElementOffset.left,o.y+=e.userInteractionBase.secondaryElementOffset.top,document.getElementById(e.element.id+"_tooltip").setAttribute("style","top:"+o.y.toString()+"px;left:"+o.x.toString()+"px;pointer-events:none; position:absolute;z-index: 1;visibility: visible;")}},pushData:function(e,t){return!!e.series.enableTooltip&&(null!=t&&t.tooltipBase.currentPoints.push(e),!0)},renderGroupedTooltip:function(e,t){var i,s,r=this,n="PolarAxes"===t.userInteractionBase.chartAreaType?this.getData(t):null;t.tooltipBase.currentPoints=[];for(var o,a,l=[],h=[],d=[],c=0;c<t.userInteractionBase.visibleSeries.length;c++){var u=t.userInteractionBase.visibleSeries[c];u.enableTooltip&&u.visible&&0!=u.points.length&&("CartesianAxes"==t.userInteractionBase.chartAreaType&&u.visible&&u.points.length>0?i=this.getClosestX(t,u):"PolarAxes"===t.userInteractionBase.chartAreaType&&u.visible&&null!=n.point&&(i={point:u.points[n.point.iX],series:u}),null!=i&&i.point&&l.push(i))}l=this.getSharedPoints(t,l),(l=this.sortPointsInfo(l)).forEach((function(e){a={pointX:e.point.x?e.point.x.toString():"",pointY:e.point.y?e.point.y.toString():"",seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.iX,pointText:e.point.t},d.push(a),o=r.findHeader(e,t),t.tooltipBase.currentPoints.push(e),h.push(r.getTooltipText(e,t)),s="TrendLine"===e.series.category&&t.tooltipBase.tooltipModule.shared?s:e})),t.userInteractionBase.isStockChart&&h.push(""),t.tooltipBase.sharedArgsData={headerText:o,text:h,data:d},t.tooltipBase.sharedTooltipEventCalled?t.dotnetref.invokeMethodAsync("SharedTooltipEventTriggered",t.tooltipBase.sharedArgsData):this.groupedTooltip(t,l,e,s)},createTooltipRenderer:function(e,t,s,r,n,o,a,l,h,d,c,u){var p,f=e.tooltipBase.currentPoints[0].series,m=this.isRectSeries(f.type);t&&null!=s&&(p=new sf.svgbase.Tooltip({opacity:e.tooltipBase.tooltipModule.opacity,header:e.tooltipBase.header,content:e.tooltipBase.formattedText,fill:e.tooltipBase.tooltipModule.fill,border:e.tooltipBase.tooltipModule.border,enableAnimation:e.tooltipBase.tooltipModule.enableAnimation,location:null!=s?new i(s.x+e.userInteractionBase.secondaryElementOffset.left,s.y+e.userInteractionBase.secondaryElementOffset.top):null,shared:e.tooltipBase.tooltipModule.shared,crosshair:h,shapes:o,clipBounds:"PolarAxes"==e.userInteractionBase.chartAreaType?new i(0,0):r,areaBounds:new sf.svgbase.Rect(l.x+e.userInteractionBase.secondaryElementOffset.left,l.y+(e&&e.userInteractionBase.isStockChart?e.tooltipBase.seriesTooltipTop:0)+e.userInteractionBase.secondaryElementOffset.top,l.width,l.height),palette:this.findPalette(e),controlName:"Chart",controlInstance:e,template:u||e.tooltipBase.tooltipModule.template,data:c,theme:e.userInteractionBase.theme,offset:a,textStyle:e.tooltipBase.tooltipModule.textStyle,isNegative:!!(m&&"Waterfall"!=f.type&&n&&n.y)&&("BoxPlot"!=f.seriesType&&Number(n.y)<0),inverted:e.userInteractionBase.isInverted&&m,arrowPadding:e.tooltipBase.formattedText.length>1?0:7,availableSize:e.userInteractionBase.availableSize,duration:e.tooltipBase.tooltipDuration,isCanvas:!1,rx:4,ry:4,isTextWrap:e.tooltipBase.tooltipModule.enableTextWrap,enableRTL:e.userInteractionBase.enableRTL})),null!=p&&(this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,d),this.renderTooltip(p,e.element.id+"_tooltip",e))},tooltip:function(e){this.getTooltipElement(e),e.tooltipBase.tooltipModule.shared?this.renderGroupedTooltip(!0,e):this.renderSeriesTooltip(!0,e)},getData:function(e){for(var t,i,s,r,n=null,o=null,a=e.userInteractionBase.visibleSeries.length-1;a>=0;a--){if(t="Scatter"===(o=e.userInteractionBase.visibleSeries[a]).type||"Scatter"===o.drawType||o.marker&&o.marker.vS?(o.marker.mH+5)/2:0,i="Scatter"===o.type||"Scatter"===o.drawType||o.marker&&o.marker.vS?(o.marker.mW+5)/2:0,s=e.mouseX,r=e.mouseY,o.dataEditSettings&&this.isRectSeries(o.seriesType))if("Bar"===o.type&&o.chartIsTransposed||!o.chartIsTransposed&&"Bar"!==o.type){var l=o.marker.mH/2;r=o.y_Axis.isAxisInverse?r-l:r+l}else{var h=o.marker.mW/2;s=o.y_Axis.isAxisInverse?s+h:s-h}if(o.visible&&!sf.base.isNullOrUndefined(o.clipRect)&&sf.svgbase.withInAreaBounds(s,r,new sf.svgbase.Rect(o.clipRect.x,o.clipRect.y,o.clipRect.w,o.clipRect.h),t,i)&&(n=this.getRectPoint(o,o.clipRect,s,r,e)),n)return{point:n,series:o}}return{point:n,series:o}},getRectPoint:function(e,t,i,s,r){for(var n,o,a,l,h,d,c=0,u=this.isRectSeries(e.seriesType),p=0,f=e.points;p<f.length;p++){var m=f[p];if(m.rD||m.r&&m.r.length){if(m.rD&&"PolarAxes"===r.userInteractionBase.chartAreaType&&e.drawType.indexOf("Column")>-1&&(n=i-(e.clipRect.w/2+e.clipRect.x),o=s-(e.clipRect.h/2+e.clipRect.y),c=2*Math.PI*(m.rD.cP<0?1+m.rD.cP:m.rD.cP),a=(a=(Math.atan2(o,n)+.5*Math.PI-c)%(2*Math.PI))<0?2*Math.PI+a:a,a+=2*Math.PI*e.x_Axis.startAngle,l=m.rD.sA,l=(l-=c)<0?2*Math.PI+l:l,h=m.rD.eA,h=(h-=c)<0?2*Math.PI+h:h,d=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(o),2)),a>=l&&a<=h&&(d>=m.rD.iR&&d<=m.rD.r||d<=m.rD.iR&&d>=m.rD.r)&&d<=r.userInteractionBase.chartRadius))return m;if(e.dataEditSettings&&u&&this.rectRegion(i,s,m,t,e,r))return m;if(this.checkRegionContainsPoint(m.r,t,i,s,r))return m}}return null},rectRegion:function(e,t,i,s,r,n){var o,a="Bar"===r.type,l=r.y_Axis.isAxisInverse,h=r.chartIsTransposed,d=0,c=0,u=o=20;return l&&h?a?(d=i.r[0].h-10,o=i.r[0].w):(c=-10,u=i.r[0].h):l||i.yV<0?a?(c=-10,u=i.r[0].h):(d=i.r[0].h-10,o=i.r[0].w):h?a?(d=-10,o=i.r[0].w):(c=i.r[0].w-10,u=i.r[0].h):a?(c=i.r[0].w-10,u=i.r[0].h):(d=-10,o=i.r[0].w),i.r.some((function(i){return sf.svgbase.withInAreaBounds(e,t,new sf.svgbase.Rect(("CartesianAxes"===n.userInteractionBase.chartAreaType?s.x:0)+i.x+c,("CartesianAxes"===n.userInteractionBase.chartAreaType?s.y:0)+i.y+d,o,u))}))},checkRegionContainsPoint:function(e,t,i,s,r){return e.some((function(e,n){return r.userInteractionBase.lierIndex=n,sf.svgbase.withInAreaBounds(i,s,new sf.svgbase.Rect(("CartesianAxes"===r.userInteractionBase.chartAreaType?t.x:0)+e.x,("CartesianAxes"===r.userInteractionBase.chartAreaType?t.y:0)+e.y,e.w,e.h))}))},getClosestX:function(e,t){if(null==t)return null;var i=this.getPointValue(e,t),s=this.getClosest(t,i);return null!=s&&null==s.y&&"BollingerBand"==t.name?null:{point:s,series:t}},getPointValue:function(e,t){if(null!=t&&null!=t.clipRect){var i=e.userInteractionBase.isInverted?e.mouseY-t.clipRect.y:e.mouseX-t.clipRect.x,s=e.userInteractionBase.isInverted?t.clipRect.h:t.clipRect.w;return this.getValueByPoint(i,s,t.x_Axis.orientation,t.x_Axis.visibleRange,t.x_Axis.isAxisInverse)}return 0},getValueByPoint:function(e,t,i,s,r){return("Horizontal"==i&&!r||"Horizontal"!=i&&r?e/t:1-e/t)*s.delta+s.start},getClosest:function(e,t){var i;if(null==e)return i;var s=e.x_Axis;return null!=s&&t>=s.visibleRange.start-.5&&t<=s.visibleRange.end+.5&&e.points.length>0&&(i=this.findClosest(this.sortPoints(e.points,["xV"]),t)),i},sortPoints:function(e,t,i){for(var s=sf.base.extend([],e,null),r=0;r<s.length;r++)for(var n=0;n<t.length;n++)s[r][t[n]]instanceof Date&&(s[r][t[n]]=s[r][t[n]].getTime());return s.sort((function(e,s){for(var r=0,n=0,o=0;o<t.length;o++)r+=e[t[o]],n+=s[t[o]];return!i&&r<n||i&&r>n?-1:r===n?0:1})),s},findClosest:function(e,t){var i=e.length;if(t<=e[0].xV)return e[0];if(t>=e[i-1].xV)return e[i-1];for(var s=0,r=i,n=0;s<r;){if(e[n=Math.round((s+r)/2)].xV==t)return e[n];if(t<e[n].xV){if(n>0&&t>e[n-1].xV)return this.getClosestValue(e[n-1],e[n],t);r=n}else{if(n<i-1&&t<e[n+1].xV)return this.getClosestValue(e[n],e[n+1],t);s=n+1}}return e[n]},getClosestValue:function(e,t,i){return i-e.xV>=t.xV-i?t:e},getSharedPoints:function(e,t){if(!("CartesianAxes"==e.userInteractionBase.chartAreaType&&null!=t&&t.length>0))return t;for(var i,s,r=0,n=t;r<n.length;r++){var o=n[r];if(i=this.getPointValue(e,o.series),this.isClosest(i,o,s)&&(s=o.point.xV),this.isAxisValue(o.series))return t}return t.filter((function(e){return s==e.point.xV}))},isClosest:function(e,t,i){var s=t.series.x_Axis;return e>=s.visibleRange.start-.5&&e<=s.visibleRange.end+.5&&(isNaN(i)||Math.abs(t.point.xV-e)<Math.abs(i-e))},isAxisValue:function(e){return!sf.base.isNullOrUndefined(e)&&(e.axesCount>2&&"PrimaryXAxis"!=e.x_Axis.name)},sortPointsInfo:function(e){var t=[];return e.forEach((function(e){"Series"===e.series.category&&t.push(e)})),e.forEach((function(e){"Indicator"===e.series.category&&t.push(e)})),t},findHeader:function(e,t){var i=t.tooltipBase.header;return sf.base.isNullOrUndefined(i)?"":""!==(i=this.parseTemplate(e.point,e.series,i,t)).replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?i:""},getTooltipText:function(e,t){return this.parseTemplate(e.point,e.series,this.getFormat(t,e.series),t)},getIndicatorTooltipFormat:function(e,t){return"XY"===e.seriesType?e.name+" : <b>${point.y}</b>":t},parseTemplate:function(e,t,i,s){for(var r,n,o=0,a=Object.keys(e);o<a.length;o++){var l=a[o];r=new RegExp("${point."+l+"}","gm"),i.indexOf(r.source)>-1&&(i=i.replace(r.source,this.formatPointValue(e,l,"${point.x}"===r.source,"${point.h}"===r.source||"${point.o}"===r.source||"${point.c}"===r.source||"${point.l}"===r.source||"${point.y}"===r.source,t,s.userInteractionBase.isStockChart,s)))}for(var h=0,d=Object.keys(t);h<d.length;h++){l=d[h];r=new RegExp("${series."+l+"}","gm"),n=t[l],i.indexOf(r.source)>-1&&(i=i.replace(r.source,n))}return i},getTemplateLocation:function(e,t,s,r,n,o,a,l){var h=new i(t.x,t.y),d=s+10,c=r+10,u=o.x,p=o.y,f=e.x,m=e.y;return a?(((h=new i(h.x+u+n,h.y+p-r/2)).x+d+12>f+e.width||l)&&(h.x=(t.x>e.width?e.width:t.x)+u-n-(d+12)),h.x<f&&(h.x=(t.x<0?0:t.x)+u+n),h.y<=m&&(h.y=m),h.y+c>=m+e.height&&(h.y-=h.y+c-(m+e.height))):(((h=new i(h.x+u-s/2,h.y+p-r-12-n)).y<m||l)&&(h.y=(t.y<0?0:t.y)+p+n),h.y+c+12>m+e.height&&(h.y=(t.y>e.height?e.height:t.y)+p-r-12-n),h.x<f&&(h.x=f),h.x+d>f+e.width&&(h.x-=h.x+d-(f+e.width))),{x:h.x,y:h.y}},formatPointValue:function(e,t,i,s,r,n,o){var a,l,h,d=i?r.x_Axis:r.y_Axis,c=d.format?d.format:d.dateFormat,u=d.labelFormat;if("DateTime"==d.valueType&&i)a=(new sf.base.Internationalization).getDateFormat({format:c||"MM/dd/yyyy",type:this.firstToLowerCase("DateTime")})(new Date(e.xV)),a=this.getGlobalizedDate(a,o.dateValuePairs);else if("DateTimeCategory"===d.valueType&&i)a=(new sf.base.Internationalization).getDateFormat({format:c||u||"MM/dd/yyyy HH:mm:ss tt",type:this.firstToLowerCase("DateTime")})(new Date(e[t])),a=this.getGlobalizedDate(a,o.dateValuePairs);else if("Category"!==d.valueType&&i)a=(l=u&&null!==u.match("{value}"))?u.replace("{value}",this.formatAxisValue(e[t],l,u)).replace(/\,/g,""):this.formatAxisValue(e[t],l,u).replace(/\,/g,"");else if(s&&!sf.base.isNullOrUndefined(e[t])){if(l=u&&null!==u.match("{value}"),"outliers"===t)h=this.formatAxisValue(e[t][this.lierIndex-4],l,u).replace(/\,/g,"");else{var p=e[t],f=r.markerDataLabelFormat?parseInt(r.markerDataLabelFormat.substring(1)):2,m=n?Math.max(2,(p-Math.round(p)).toString().length):f;h=this.formatAxisValue(e[t],l,u,m).replace(/\,/g,"")}n&&"Indicator"===r.category&&"AccumulationDistribution"===r.name&&(h=h.replace(/\B(?=(\d{3})+(?!\d))/g,",")),h=this.getGlobalizedNumber(h,o.numberValuePairs),a=l?u.replace("{value}",h):h}else a=this.getGlobalizedNumber(e[t].toString(),o.numberValuePairs);return a},getFormat:function(e,t){var i=e.tooltipBase.tooltipModule.shared&&!t.name?"":"<br/>";if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat):t.tooltipFormat;if(!t.tooltipFormat&&(e.userInteractionBase.isStockChart&&"Indicator"===t.category||!e.userInteractionBase.isStockChart)&&e.tooltipBase.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat):e.tooltipBase.tooltipFormat;var s="Histogram"===e.seriesTypes[t.index]?"${point.mI}-${point.mX}":"${point.x}",r=e.tooltipBase.tooltipModule.shared&&(!e.userInteractionBase.isStockChart||t.seriesType.indexOf("HighLow")>-1)?"${series.name}":s;switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat),r+" : "+("Bubble"===e.seriesTypes[t.index]?"<b>${point.y}</b>  Size : <b>${point.sI}</b>":"<b>${point.y}</b>");case"HighLow":return r+i+"High : <b>${point.h}</b><br/>Low : <b>${point.l}</b>";case"HighLowOpenClose":return r+i+"High : <b>${point.h}</b><br/>Low : <b>${point.l}</b><br/>Open : <b>${point.o}</b><br/>Close : <b>${point.c}</b>"+(e.userInteractionBase.isStockChart&&t.volume?"<br/>Volume : <b>${point.v}</b>":"");case"BoxPlot":return r+i+(e.userInteractionBase.lierIndex>3?"Outliers : <b>${point.oL}</b>":"Maximum : <b>${point.mX}</b><br/>Q3 : <b>${point.uQ}</b><br/>Median : <b>${point.m}</b><br/>Q1 : <b>${point.lQ}</b><br/>Minimum : <b>${point.mI}</b>");default:return""}},formatAxisValue:function(e,t,i,s,r){void 0===s&&(s=2);var n=Number(e);return(new sf.base.Internationalization).getNumberFormat({format:t?"":i,useGrouping:!1,minimumFractionDigits:2,maximumFractionDigits:s>20?20:s})(n)},findShapes:function(e){if(!e.tooltipBase.tooltipModule.enableMarker)return[];for(var t=[],i=0,s=e.tooltipBase.currentPoints;i<s.length;i++){var r=s[i];t.push(r.series.shape)}return t},findMarkerHeight:function(e,t){var i=e.series;return(i.marker.vS||t.tooltipBase.tooltipModule.shared&&(!this.isRectSeries(i.type)||i.marker.vS)||"Scatter"===i.type||"Scatter"===i.type)&&"Candle"!==i.seriesType&&"Hilo"!==i.seriesType&&"HiloOpenClose"!==i.seriesType?(i.marker.mH+5)/2+2*i.marker.b.wT:0},findSharedLocation:function(e){return e.userInteractionBase.isStockChart?new i(e.userInteractionBase.axisClipRect.x+5,e.userInteractionBase.axisClipRect.y+e.tooltipBase.seriesTooltipTop+5):e.tooltipBase.currentPoints.length>1?new i(e.tooltipBase.valueX,e.tooltipBase.valueY):this.getSymbolLocation(e.tooltipBase.currentPoints[0],e)},valueToCoefficient:function(e,t){var i=(e-t.visibleRange.start)/t.visibleRange.delta;return t.isAxisInverse?1-i:i},valueToPolarCoefficient:function(e,t,i){var s,r,n=i.visibleRange;return"Category"!==t?(s=n.end-("DateTime"===t?i.dataTimeInterval:i.visibleInterval)-n.start,r=i.visibleLabelCount-1,s=0===s?1:s):(s=1===i.visibleLabelCount?1:i.visibleLabelCount-1-0,r=i.visibleLabelCount),i.isAxisInverse?(e-n.start)/s*(1-1/r):1-(e-n.start)/s*(1-1/r)},findMouseValue:function(e,t){var i=e.series.x_Axis;t.userInteractionBase.isInverted?(t.tooltipBase.valueY=(1-this.valueToCoefficient(e.point.xV,i))*i.rect.h+i.rect.y,t.tooltipBase.valueX=t.mouseX):("PolarAxes"===t.userInteractionBase.chartAreaType?t.tooltipBase.valueX=this.valueToPolarCoefficient(e.point.xV,e.series.x_Axis.valueType,i)*i.rect.w+i.rect.x:t.tooltipBase.valueX="TrendLine"===e.series.category&&t.tooltipBase.tooltipModule.shared?t.tooltipBase.valueX:this.valueToCoefficient(e.point.xV,i)*i.rect.w+i.rect.x,t.tooltipBase.valueY=t.mouseY)},getSymbolLocation:function(e,t){var s=t.userInteractionBase.isStockChart?new i(0,t.tooltipBase.seriesTooltipTop):new i(0,0);if("BoxAndWhisker"!==e.series.type){if(0==e.point.s.length)return null;s=new i(e.point.s[0].x,e.point.s[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e,t);case"Waterfall":return this.getWaterfallRegion(e,s,t);case"RangeArea":case"SplineRangeArea":case"RangeColumn":return this.getRangeArea(e,s);default:return s}},getBoxLocation:function(e,t){return t.userInteractionBase.lierIndex>3?e.point.s[t.userInteractionBase.lierIndex-4]:{x:e.point.r[0].x+e.point.r[0].w/2,y:e.point.r[0].y+e.point.r[0].h/2}},getWaterfallRegion:function(e,t){return this.inverted?t.x=Number(e.point.y)<0?t.x+e.point.r[0].w:t.x:t.y=Number(e.point.y)<0?t.y-e.point.r[0].h:t.y,t},getRangeArea:function(e,t){return e.point.r.length>0&&e.point.r[0]&&(this.inverted?t.x=e.point.r[0].x+e.point.r[0].w/2:t.y=e.point.r[0].y+e.point.r[0].h/2),t},findPalette:function(e){for(var t=[],i=0,s=e.tooltipBase.currentPoints;i<s.length;i++){var r=s[i];t.push(this.findColor(r,r.series))}return t},findColor:function(e,t){return!this.isRectSeries(t.seriesType)||"Candle"!==t.seriesType&&"Hilo"!==t.seriesType&&"HiloOpenClose"!==t.seriesType?""!=e.point.i?e.point.i:""!=t.marker.f?t.marker.f:t.interior:e.point.i},renderTooltip:function(e,t,i){var s=document.getElementById(t+"_svg"),r=e,n=i;!(s&&parseInt(s.getAttribute("opacity"),10)>0)&&!sf.base.isNullOrUndefined(n)?(n.tooltip=new sf.svgbase.Tooltip(r),n.tooltip.enableRTL=r.enableRTL,n.tooltip.appendTo("#"+t)):sf.base.isNullOrUndefined(n.tooltip)||(n.tooltip.location=new sf.svgbase.TooltipLocation(r.location.x,r.location.y),n.tooltip.content=r.content,n.tooltip.header=r.header,n.tooltip.offset=r.offset,n.tooltip.palette=r.palette,n.tooltip.shapes=r.shapes,n.tooltip.data=r.data,n.tooltip.template=r.template,n.tooltip.textStyle.color=r.textStyle.color||n.tooltip.textStyle.color,n.tooltip.textStyle.fontFamily=r.textStyle.fontFamily||n.tooltip.textStyle.fontFamily,n.tooltip.textStyle.fontStyle=r.textStyle.fontStyle||n.tooltip.textStyle.fontStyle,n.tooltip.textStyle.fontWeight=r.textStyle.fontWeight||n.tooltip.textStyle.fontWeight,n.tooltip.textStyle.opacity=r.textStyle.opacity||n.tooltip.textStyle.opacity,n.tooltip.textStyle.size=r.textStyle.size||n.tooltip.textStyle.size,n.tooltip.isNegative=r.isNegative,n.tooltip.clipBounds=new sf.svgbase.TooltipLocation(r.clipBounds.x,r.clipBounds.y),n.tooltip.arrowPadding=r.arrowPadding,n.tooltip.dataBind())},removeTooltip:function(e,t){var i=this,s=this.getElement(t.element.id+"_tooltip");this.stopAnimation(t.tooltipBase.toolTipInterval),s&&null==t.tooltipBase.tooltipModule.template&&t.tooltipBase.previousPoints.length>0?t.tooltipBase.toolTipInterval=+setTimeout((function(){t.tooltipBase.tooltipModule&&i.fadeOut(t.dataId)}),e):s&&null!=t.tooltipBase.tooltipModule.template&&t.tooltipBase.previousPoints.length>0&&(t.tooltipBase.toolTipInterval=+setTimeout((function(){null!=t.tooltipBase.tooltipModule.template&&(t.dotnetref.invokeMethodAsync("RemoveTemplateTooltip"),t.tooltipBase.valueX=0,t.tooltipBase.valueY=0,t.tooltipBase.currentPoints=[],i.removeHighlight(t),i.removeMarker(t),t.tooltipBase.previousPoints=[])}),e))},stopAnimation:function(e){this.stopTimer(e)},stopTimer:function(e){window.clearInterval(e)},removeHighlight:function(e){for(var t=0,i=e.tooltipBase.previousPoints;t<i.length;t++){var s=i[t],r="Polar"!=s.series.type?s.series.type:s.series.drawType;this.isRectSeries(r)&&this.highlightPoint(e,s.series,s.point.iX,!1)}},highlightPoint:function(e,t,i,s){var r=this.getElement(e.element.id+"_Series_"+t.index+"_Point_"+i+("BoxPlot"==t.seriesType?"_BoxPath":""));sf.base.isNullOrUndefined(r)||(""===e.highlightColor||sf.base.isNullOrUndefined(e.highlightColor)?r.setAttribute("opacity",(s?t.opacity/1.25:t.opacity).toString()):r.setAttribute("fill",s&&"transparent"!=e.highlightColor?e.highlightColor:t.interior))},highlightPoints:function(e){for(var t=0,i=e.tooltipBase.currentPoints;t<i.length;t++){var s=i[t],r="Polar"!=s.series.type?s.series.type:s.series.drawType;this.isRectSeries(r)&&"Series"==s.series.category&&this.highlightPoint(e,s.series,s.point.iX,!0)}},updatePreviousPoint:function(e,t){t.length>0&&(e.tooltipBase.currentPoints=e.tooltipBase.currentPoints.concat(t)),e.tooltipBase.previousPoints=[],e.tooltipBase.previousPoints=e.tooltipBase.previousPoints.concat(e.tooltipBase.currentPoints)},fadeOut:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||!sf.base.isNullOrUndefined(t)&&sf.base.isNullOrUndefined(t.tooltip)||(this.removeTooltipCommentElement(t),t.tooltipBase.valueX=0,t.tooltipBase.valueY=0,t.tooltipBase.currentPoints=[],this.removeHighlight(t),this.removeMarker(t),t.tooltipBase.previousPoints=[],t.tooltip.fadeOut())},removeTooltipCommentElement:function(e){var t=this.getElement(e.tooltip.element.id);if(t&&!e.isRemoveCommentElement&&t.childNodes.length>1){for(var i=t.childNodes,s=[],r=0;r<i.length;r++)(i[r].nodeName.match("#comment")||i[r].nodeName.match("#text"))&&s.push(i[r]);for(var n=0,o=s;n<o.length;n++){var a=o[n];sf.base.remove(a),e.isRemoveCommentElement=!0}}},getParentElementBoundsById:function(e){var t=document.getElementById(e);if(t){var i=document.getElementById(e+"_svg");i&&(i.style.display="none");var s=document.getElementById(e+"_tooltip_data");s&&(s.style.display="none"),t.style.width="100%",t.style.height="100%";var r=t.getBoundingClientRect(),n=r.width||t.clientWidth||t.offsetWidth,o=r.height||t.clientHeight||t.offsetHeight;return i&&(i.style.display=""),s&&(s.style.display="block"),{width:n,height:o,left:r.left,top:r.top,right:r.right,bottom:r.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getElementBoundsById:function(e,t){void 0===t&&(t=!0),t&&(this.id=e);var i=document.getElementById(e);if(i){var s=i.getBoundingClientRect();return{width:i.clientWidth||i.offsetWidth,height:i.clientHeight||i.offsetHeight,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getRefreshElementBoundsById:function(e){var t=document.getElementById(e);if(t){for(var i=document.getElementsByClassName("e-chart"),s=i.length,r=0;r<s;r++){if((o=i[r]).id.indexOf("_stockChart_")<0)o.querySelector("[id*=_svg]").style.display="none"}t.style.width="100%",t.style.height="100%";var n=t.getBoundingClientRect();for(r=0;r<s;r++){var o;if((o=i[r]).id.indexOf("_stockChart_")<0)o.querySelector("[id*=_svg]").style.display=""}return{width:n.width||t.clientWidth||t.offsetWidth,height:n.height||t.clientHeight||t.offsetHeight,left:n.left,top:n.top,right:n.right,bottom:n.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getBrowserDeviceInfo:function(){return{browserName:sf.base.Browser.info.name,isPointer:sf.base.Browser.isPointer,isDevice:sf.base.Browser.isDevice,isTouch:sf.base.Browser.isTouch,isIos:sf.base.Browser.isIos||sf.base.Browser.isIos7}},setZoomingCipPath:function(e,t,i){var s=document.getElementById(e),r=document.getElementById(t);s&&s.setAttribute("clip-path",i),r&&s.setAttribute("clip-path",i)},setZoomingElementAttributes:function(e,t,i,s,r,n,o,a){"Indicator"===t&&i&&i.parentElement&&i.parentElement.setAttribute("transform",e),i&&i.setAttribute("transform",e),s&&s.setAttribute("transform",e),r&&r.setAttribute("transform",e),n&&n.setAttribute("visibility","hidden"),o&&o.setAttribute("visibility","hidden"),a&&(a.style.visibility="hidden")},measureBreakText:function(e,t,i,s,r,n,o){var a={color:i,size:t,fontFamily:s,fontWeight:r,fontStyle:n,opacity:parseInt(o,10)};return sf.svgbase.measureText(e,a)},getAllCharacters:function(){for(var e=[],t=33;t<591;t++)e.push(String.fromCharCode(t));return e},measureText:function(e,t,i,s){var r=document.getElementById("sfchartmeasuretext");return null===r&&(r=sf.base.createElement("text",{id:"sfchartmeasuretext"}),document.body.appendChild(r))," "===e&&(e="&nbsp;"),r.innerHTML=e,r.style.position="fixed",r.style.fontSize="100px",r.style.fontWeight=t,r.style.fontStyle=i,r.style.fontFamily=s,r.style.visibility="hidden",r.style.top="-100",r.style.left="0",r.style.whiteSpace="nowrap",r.style.lineHeight="normal",{Width:r.clientWidth,Height:r.clientHeight}},getCharCollectionSize:function(e){for(var t=[],i=this.getAllCharacters(),s=i.length,r=e.length,n=0;n<r;n++)for(var o=e[n].split("_"),a=o[0],l=o[1],h=o[2],d=0;d<s;d++)t.push(this.measureText(i[d],a,l,h).Width+"");return JSON.stringify(t)},getCharSizeByFontKeys:function(e){for(var t,i={},s=e.length,r=[],n=0;n<s;n++)r=e[n].split("_"),t=this.measureText(r[0],r[1],r[2],r[3]),i[e[n]]={X:t.Width,Y:t.Height};return JSON.stringify(i)},getElementRect:function(e){var t=document.getElementById(e),i=t.getBoundingClientRect();return sf.base.remove(t),{Left:i.left,Right:i.right,Top:i.top,Bottom:i.bottom,Width:i.width,Height:i.height}},getElement:function(e){return document.getElementById(e)},drawTrackBall:function(e,t,i,s,r,n){var o=this.getElement(e);if(o){for(var a=document.createElementNS("http://www.w3.org/2000/svg",i),l=Object.keys(t),h="",d=0;d<l.length;d++)h="strokeWidth"===l[d]?"stroke-width":"strokeDashArray"===l[d]?"stroke-dashArray":"direction"===l[d]?"d":l[d],a.setAttribute(h,t[l[d]]);a.setAttribute("class",s),a.setAttribute("clip-path",r),a.setAttribute("transform",n),o.appendChild(a)}},removeHighLightedMarker:function(e){for(var t=document.getElementsByClassName(e),i=0,s=t.length;i<s;i++)sf.base.remove(t[0])},setAttribute:function(e,t,i){var s=this.getElement(e);s&&s.setAttribute(t,i)},createTooltip:function(e,t,i,s,r){var n=document.getElementById(e),o="top:"+((window.scrollY||0)+i).toString()+"px;left:"+s.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:"+r+";border-radius:2px; z-index:1";n?(n.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),n.setAttribute("styles",o)):(n=sf.base.createElement("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:o}),document.body.appendChild(n))},removeElement:function(e){if(!e)return null;var t=this.getElement(e);t&&sf.base.remove(t)},applySelection:function(e,t){var i,s=document.getElementById(e);if(s&&s.childNodes)for(var r=1,n=(i=s.childNodes).length;r<n;r++)i[r]&&"rect"!==i[r].tagName&&i[r].setAttribute&&i[r].setAttribute("fill",t)},getAndSetTextContent:function(e,t,i){var s=document.getElementById(e);if(s){if(t)return s.textContent;s.textContent=i}return null},doProgressiveAnimation:function(e,t,i,s,r){var n,o=this.getElement(t),a=this.getElement(e),l=new sf.base.Animation({}),h=a.getTotalLength();a.setAttribute("visibility","hidden"),l.animate(a,{duration:i+s,delay:s,progress:function(e){o.setAttribute("visibility","visible"),e.timeStamp>=e.delay&&(a.setAttribute("visibility","visible"),n=Math.abs(Math.round((e.timeStamp-e.delay)*h/e.duration)),a.setAttribute("stroke-dasharray",n+","+h))},end:function(){a.setAttribute("stroke-dasharray",r)}})},linear:function(e,t,i,s){return-i*Math.cos(e/s*(Math.PI/2))+i+t},doLinearAnimation:function(e,t,i,s){var r,n=this.getElement(e),o=new sf.base.Animation({}),a=this.linear,l=+n.getAttribute("height"),h=+n.getAttribute("width"),d=+n.getAttribute("x"),c=s?+n.getAttribute("height")+ +n.getAttribute("y"):+n.getAttribute("y");o.animate(n,{duration:t,delay:i,progress:function(e){e.timeStamp>=e.delay&&(n.setAttribute("visibility","visible"),s?(r=a(e.timeStamp-e.delay,0,l,e.duration),n.setAttribute("transform","translate("+d+" "+c+") scale(1,"+r/l+") translate("+-d+" "+-c+")")):(r=a(e.timeStamp-e.delay,0,h,e.duration),n.setAttribute("transform","translate("+d+" "+c+") scale("+r/h+", 1) translate("+-d+" "+-c+")")))},end:function(){n.setAttribute("transform","translate(0,0)")}})},filterCommentElement:function(e){var t=this.getElement(e);if(!t)return null;for(var i=t.childNodes,s=[],r=0;r<i.length;r++)i[r].nodeName.match("#comment")||s.push(i[r]);return s},doInitialAnimation:function(e){for(var t=0;t<e.length;t++){switch(e[t].type){case"Rect":for(var i=this.getElement(e[t].clipPathId),s=this.filterCommentElement(e[t].elementId),r=0;r<e[t].pointIndex.length;r++)this.doRectAnimation(s[e[t].pointIndex[r]],i,e[t].duration,e[t].delay,e[t].pointX[r],e[t].pointY[r],e[t].pointWidth[r],e[t].pointHeight[r],e[t].isInvertedAxis);break;case"Progressive":this.doProgressiveAnimation(e[t].elementId,e[t].clipPathId,e[t].duration,e[t].delay,e[t].strokeDashArray);break;case"Linear":this.doLinearAnimation(e[t].elementId,e[t].duration,e[t].delay,e[t].isInvertedAxis);break;case"Marker":var n=this.getElement(e[t].clipPathId),o=this.filterCommentElement(e[t].elementId);for(r=0;r<e[t].pointIndex.length;r++)this.doMarkerAnimate(o[e[t].pointIndex[r]],n,e[t].duration,e[t].delay,e[t].pointX[r],e[t].pointY[r]);break;case"PolarRadar":var a=this.getElement(e[t].clipPathId),l=this.filterCommentElement(e[t].elementId);for(r=0;r<l.length;r++)this.doPolarRadarAnimation(l[r],a,e[t].duration,e[t].delay,e[t].pointX[0],e[t].pointY[0])}if(!sf.base.isNullOrUndefined(e[t].markerInfo))for(n=this.getElement(e[t].markerInfo.markerClipPathId),o=this.filterCommentElement(e[t].markerInfo.markerElementId),r=0;r<e[t].markerInfo.pointIndex.length;r++)this.doMarkerAnimate(o[e[t].markerInfo.pointIndex[r]],n,200,e[t].duration+e[t].delay,e[t].markerInfo.pointX[r],e[t].markerInfo.pointY[r]),e[t].markerInfo.lowPointIndex.length>0&&this.doMarkerAnimate(o[e[t].markerInfo.lowPointIndex[r]],n,200,e[t].duration+e[t].delay,e[t].markerInfo.lowPointX[r],e[t].markerInfo.lowPointY[r]);if(!sf.base.isNullOrUndefined(e[t].dataLabelInfo))if(0===e[t].dataLabelInfo.templateId.length)this.doDataLabelAnimation(e[t].dataLabelInfo.shapeGroupId,e[t].dataLabelInfo.textGroupId,"",e[t].clipPathId,200,e[t].duration+e[t].delay);else for(r=0;r<e[t].dataLabelInfo.templateId.length;r++)this.doDataLabelAnimation("","",e[t].dataLabelInfo.templateId[r],"",200,e[t].duration+e[t].delay);sf.base.isNullOrUndefined(e[t].errorBarInfo)||this.doErrorBarAnimation(e[t].errorBarInfo.errorBarElementId,e[t].errorBarInfo.errorBarClipPathId,e[t].duration+e[t].delay,e[t].isInvertedAxis)}},doDynamicAnimation:function(e,t,i){for(var s=0;s<e.length;s++)sf.base.isNullOrUndefined(e[s].previousDir)||""===e[s].previousDir||sf.base.isNullOrUndefined(e[s].currentDir)||""===e[s].currentDir||this.pathAnimation(e[s].id,e[s].currentDir,!0,e[s].previousDir,300);for(var r=0;r<t.length;r++)this.animateRectElement(t[r].id,0,300,t[r].currentRect,t[r].previousRect);for(var n=0;n<i.length;n++)this.animateRedrawElement(i[n].id,300,i[n].preLocationX,i[n].preLocationY,i[n].curLocationX,i[n].curLocationY,i[n].x,i[n].y)},doRectAnimation:function(e,t,i,s,r,n,o,a,l){var h,d=this.linear;sf.base.isNullOrUndefined(e)||(e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:s,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>=i.delay&&(e.setAttribute("visibility","visible"),l?(o=o||1,h=d(i.timeStamp-i.delay,0,o,i.duration),e.setAttribute("transform","translate("+r+" "+n+") scale("+h/o+", 1) translate("+-r+" "+-n+")")):(a=a||1,h=d(i.timeStamp-i.delay,0,a,i.duration),e.setAttribute("transform","translate("+r+" "+n+") scale(1,"+h/a+") translate("+-r+" "+-n+")")))},end:function(){e.setAttribute("transform","translate(0,0)")}}))},doMarkerAnimate:function(e,t,i,s,r,n){var o=0;e&&(e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:s,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>i.delay&&(e.setAttribute("visibility","visible"),o=(i.timeStamp-i.delay)/i.duration,e.setAttribute("transform","translate("+r+" "+n+") scale("+o+") translate("+-r+" "+-n+")"))},end:function(){e.setAttribute("visibility","")}}))},doPolarRadarAnimation:function(e,t,i,s,r,n){var o=0;e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:s,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>i.delay&&(e.setAttribute("visibility","visible"),o=(i.timeStamp-i.delay)/i.duration,e.setAttribute("transform","translate("+r+" "+n+") scale("+o+") translate("+-r+" "+-n+")"))},end:function(){e.setAttribute("visibility","visible"),e.removeAttribute("transform")}})},templateAnimate:function(e,t,i,s,r,n){new sf.base.Animation({}).animate(e,{duration:i,delay:t,name:s,progress:function(e){n&&n.setAttribute("visibility","visible"),e.element.style.visibility="visible"},end:function(e){r?sf.base.remove(e.element):e.element.style.visibility="visible"}})},doDataLabelAnimation:function(e,t,i,s,r,n){for(var o,a,l,h=this.filterCommentElement(e),d=this.filterCommentElement(t),c=this.getElement(s),u=this.getElement(i),p=u?1:d.length,f=0;f<p;f++)u?(u.style.visibility="hidden",this.templateAnimate(u,n,r,"ZoomIn")):(o=+(l=d[f]).getAttribute("x")+ +l.getAttribute("width")/2,a=+l.getAttribute("y")+ +l.getAttribute("height")/2,this.doMarkerAnimate(d[f],c,r,n,o,a),h[f]&&(o=+(l=h[f]).getAttribute("x")+ +l.getAttribute("width")/2,a=+l.getAttribute("y")+ +l.getAttribute("height")/2,this.doMarkerAnimate(h[f],c,r,n,o,a)))},pathAnimation:function(e,t,i,s,r){var n=this,o=this.getElement(e);if(!i||null==o)return null;var a=300;r&&(a=r);var l,h,d,c=s||o.getAttribute("d"),u=c.split(/(?=[LMCZAQ])/),p=t.split(/(?=[LMCZAQ])/),f=[],m=[];o.setAttribute("d",c),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:a,progress:function(e){l="",u.map((function(t,i){if(f=t.split(" "),m=p[i]?p[i].split(" "):f,"Z"===f[0]?l+="Z ":l+=f[0]+" "+n.linear(e.timeStamp,+f[1],+m[1]-+f[1],e.duration)+" "+n.linear(e.timeStamp,+f[2],+m[2]-+f[2],e.duration)+" ","C"===f[0]||"Q"===f[0])for(h=3,d="Q"===f[0]?4:6;h<d;)l+=n.linear(e.timeStamp,+f[h],+m[h]-+f[h],e.duration)+" "+n.linear(e.timeStamp,+f[++h],+m[h]-+f[h],e.duration)+" ",++h;"A"===f[0]&&(l+="0 0 1 "+n.linear(e.timeStamp,+f[6],+m[6]-+f[6],e.duration)+" "+n.linear(e.timeStamp,+f[7],+m[7]-+f[7],e.duration)+" ")})),o.setAttribute("d",l)},end:function(){o.setAttribute("d",t)}})},getPreviousDirection:function(e){var t=this.getElement(e);return t?t.getAttribute("d"):null},getPreviousLocation:function(e,t){var i=this.getElement(e);return{X:i?+i.getAttribute(t+"x"):0,Y:i?+i.getAttribute(t+"y"):0}},animateRectElement:function(e,t,i,s,r){var n=this,o=function(t){e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:i,delay:t,progress:function(e){o(new sf.svgbase.Rect(n.linear(e.timeStamp,r.x,s.x-r.x,e.duration),n.linear(e.timeStamp,r.y,s.y-r.y,e.duration),n.linear(e.timeStamp,r.width,s.width-r.width,e.duration),n.linear(e.timeStamp,r.height,s.height-r.height,e.duration)))},end:function(){o(s)}})},animateRedrawElement:function(e,t,i,s,r,n,o,a){var l=this;void 0===o&&(o="x"),void 0===a&&(a="y");var h=this.getElement(e);if(!h)return null;var d="DIV"===h.tagName,c=function(e,t){d?(h.style[o]=e+"px",h.style[a]=t+"px"):(h.setAttribute(o,e+""),h.setAttribute(a,t+""))};c(i,s),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:t,progress:function(e){c(l.linear(e.timeStamp,i,r-i,e.duration),l.linear(e.timeStamp,s,n-s,e.duration))},end:function(){c(r,n)}})},appendChildElement:function(e,t,i,s,r,n,o,a,l,h,d,c){void 0===s&&(s=!1),void 0===r&&(r="x"),void 0===n&&(n="y"),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===d&&(d=null);var u=e.querySelector("#"+t.id)||this.getElement(t.id),p=t,f=c||300;if(i&&s&&u)if(o=o||("DIV"===u.tagName?new sf.svgbase.TooltipLocation(+u.style[r].split("px")[0],+u.style[n].split("px")[0]):new sf.svgbase.TooltipLocation(+u.getAttribute(r),+u.getAttribute(n))),""!==a&&null!==a)this.pathAnimation(t,t.getAttribute("d"),i,a,f);else if(h&&d)this.animateRectElement(p,0,f,new sf.svgbase.Rect(+u.getAttribute("x"),+u.getAttribute("y"),+u.getAttribute("width"),+u.getAttribute("height")),d);else{var m="DIV"===p.tagName?new sf.svgbase.TooltipLocation(+p.style[r].split("px")[0],+p.style[n].split("px")[0]):new sf.svgbase.TooltipLocation(+p.getAttribute(r),+p.getAttribute(n));this.animateRedrawElement(p,f,o,m,r,n)}else i&&s&&!u&&l&&this.templateAnimate(p,0,600,"FadeIn")},processAppendChild:function(e,t,i,s,r,n,o,a,l,h,d,c,u,p,f,m){void 0===h&&(h=!1),void 0===d&&(d="x"),void 0===c&&(c="y"),void 0===p&&(p=!1),void 0===f&&(f=!1);var g=this.getElement(e),v=this.getElement(t),b=new sf.svgbase.TooltipLocation(i,s),y=new sf.svgbase.Rect(r,n,o,a);this.appendChildElement(g,v,l,h,d,c,b,u,p,f,y,m)},createStyleElement:function(e,t){document.body.appendChild(sf.base.createElement("style",{id:e,innerHTML:t}))},isLassoId:function(e,t){var i=document.elementFromPoint(e,t);return i?i.id:""},doErrorBarAnimation:function(e,t,i,s){var r=this.filterCommentElement(e),n=this.getElement(t);if(!r)return null;for(var o=1;o<r.length;)r[o].style.visibility="hidden",this.templateAnimate(r[o],i,350,s?"SlideLeftIn":"SlideBottomIn",!1,n),o++},getTemplateSize:function(e){var t=this.getElement(e);return t?{width:t.offsetWidth,height:t.offsetHeight}:null},resizeBound:{},resize:{},chartResize:function(e,t){var i=this;return this.tooltipModule&&(l.removeTooltip(100,this),l.removeCrosshair(this,100)),this.tooltipModule=null,this.crosshair=null,this.markerExploded=!1,this.resize&&clearTimeout(this.resize),this.resize=setTimeout((function(){for(var t,s,r,n=e.length,o={},a=0;a<n;a++)t=e[a].dotnetref,(s=e[a].id).indexOf("_stockChart_")<0&&document.getElementById(s+"_svg")&&((r=document.getElementById(s+"_svg")).style.display="none");for(a=0;a<n;a++)t=e[a].dotnetref,(s=e[a].id).indexOf("_stockChart_")<0&&document.getElementById(s)&&(r=document.getElementById(s),o[s]={Dotnetref:t,Width:r.clientWidth||r.offsetWidth,Height:r.clientHeight||r.offsetHeight});for(var l in o)t=o[l].Dotnetref,(r=document.getElementById(l+"_svg")).style.display="",t.invokeMethodAsync("OnChartResize",JSON.stringify({Width:o[l].Width,Height:o[l].Height}));clearTimeout(i.resize)}),500),!1},getDatalabelTemplateSize:function(e){for(var t,i=[],s=e.length,r=0;r<s;r++)t=this.getElementBoundsById(e[r],!1),i.push({X:t.width,Y:t.height});return JSON.stringify(i)},setSvgDimensions:function(e,t,i){e.setAttribute("width",t),e.setAttribute("height",i)},findDOMElement:function(e){return document.getElementById(e)},calculateSelectedElements:function(e,t){if(!sf.base.isNullOrUndefined(e.target)){var i=e.target,s=window.sfBlazor.getCompInstance(t);if(i=this.findDOMElement(this.findDOMElementFromDataLabel(i.id,s)),("None"!==s.selectionMode||"None"!==s.highlightMode&&!s.enableHighlight)&&(sf.base.isNullOrUndefined(i)||-1!==i.id.indexOf(s.element.id+"_"))&&("mousemove"!==e.type&&"pointermove"!==e.type||(null===i&&i.id.indexOf("Trackball")>-1&&(i=this.findDOMElement(i.id.split("_Trackball")[0])),!i.hasAttribute("class")||!(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1)))&&(this.isAlreadySelected(e,s),!sf.base.isNullOrUndefined(i)&&i.id.indexOf("_Series_")>-1)){var r=void 0;if(i.id.indexOf("_Trackball_1")>-1)r=this.findDOMElement(i.id.split("_Trackball_")[0]+"_Symbol"),r=sf.base.isNullOrUndefined(r)?this.findDOMElement(i.id.split("_Trackball_")[0]):r;else if(i.id.indexOf("_Trackball_0")>-1||i.id.indexOf("_ErrorBarGroup_")>-1||i.id.indexOf("_ErrorBarCap_")>-1)return null;this.performSelection(this.indexFinder(i.id),s,r||i)}}},generateStyle:function(e,t){var i,s=sf.base.isNullOrUndefined(this.findDOMElement(e))?null:this.findDOMElement(e).getAttribute("data-point");if(sf.base.isNullOrUndefined(this.findDOMElement(e))||(e.indexOf("SeriesGroup")>-1||e.indexOf("SymbolGroup")>-1)&&(s=(i=document.getElementById(e).querySelectorAll("path,ellipse")).length>0?i[0].getAttribute("data-point"):null),!s)return"undefined";var r=s.split(",");return r[3]?(t.styleId.indexOf("selection")>1&&"None"!==t.selectionMode&&(t.unSelected=r[7]||t.unSelected),t.styleId.indexOf("highlight")>0&&("None"!==t.highlightMode||t.enableHighlight)&&(t.unSelected=r[5]||t.unSelected),r[6]||t.styleId+"_series"+r[4]):"undefined"},findDOMElementFromDataLabel:function(e,t){if(e.indexOf("Text")>-1&&e.indexOf("Series")>-1){var i=e.split("_Text_")[0];return this.isRectSeries(t.seriesTypes[e.split("_Series_")[1].split("_")[0]])||"Bubble"===t.seriesTypes[0]||"Scatter"===t.seriesTypes[0]?i:i.slice(0,i.length)+"_Symbol "}return e},indexFinder:function(e){var i=["NaN","NaN"];return e.indexOf("_Point_")>-1?(i=e.split("_Series_")[1].split("_Point_"))[1].indexOf("Text")>-1&&(i[1]=i[1].split("_Text_")[0]):e.indexOf("_shape_")>-1&&!e.indexOf("_legend_")?(i=e.split("_shape_"))[0]=i[1]:e.indexOf("_text_")>-1&&!e.indexOf("_legend_")?(i=e.split("_text_"),e.indexOf("datalabel")>-1?i[0]=i[0].split("_Series_")[1]:i[0]=i[1]):e.indexOf("Series")>-1&&!(e.indexOf("points")>-1)&&(i[0]=e.split("_Series_")[1].split("_")[0]),new t(parseInt(i[0],10),parseInt(i[1],10))},addOrRemoveIndex:function(e,t,i,s){for(var r=0;r<e.length;r++)this.toEquals(e[r],t,i.isSeriesMode,i)&&(e.splice(r,1),r--);s&&e.push(t)},toEquals:function(e,t,i,s){return(e.series===t.series||"Cluster"===s.currentMode&&!i)&&(i||e.point===t.point)},removeSvgClass:function(e,t){var i=sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(e.getAttribute("class"))?"":e.getAttribute("class");i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))},getSelectionClass:function(e,t){return this.generateStyle(e,t)},removeStyles:function(e,t){for(var i=0,s=e;i<s.length;i++){var r=s[i];if(null!==r){var n=r,o=r.id,a=this.findDOMElement(n.id).getAttribute("data-point"),l=a?a.split(","):[];if(n.id.indexOf("_chart_legend_shape_")>-1&&(o=t.element.id+"SeriesGroup"+t.currentSeriesIndex),this.removeSvgClass(r,this.getSelectionClass(o,t)),"None"===t.highlightPattern&&""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor))if(r.id.indexOf("Group")>0)for(var h=0;h<r.children.length;h++)r.children[h].setAttribute("fill",l[2]);else r.setAttribute("fill",l[2])}}},findTrackballElements:function(e,t,i){var s,r;t=t.trim();for(var n=0;n<e.length;n++)if(!sf.base.isNullOrUndefined(e[n])&&(s=sf.base.isNullOrUndefined(e[n].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t))).length>0){r=[];for(var o=0;o<s.length;o++)s[o].id.indexOf("Trackball")>-1&&r.push(s[o]);this.removeStyles(r,i)}},blurEffect:function(e,t,i){void 0===i&&(i=!1);for(var s=this.checkVisibility(t.highlightDataIndexes,t)||this.checkVisibility(t.selectedDataIndexes,t),r=document.getElementById(t.element.id+"SeriesCollection").querySelectorAll("[id*='SeriesGroup']"),n=0;n<r.length;n++){var o=parseInt(r[n].id.split("SeriesGroup")[1]);this.checkSelectionElements(this.findDOMElement(t.element.id+"SeriesGroup"+o),this.generateStyle(t.element.id+"SeriesGroup"+o,t),s,i,o,t),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SymbolGroup"+o))||this.checkSelectionElements(this.findDOMElement(t.element.id+"SymbolGroup"+o),this.generateStyle(t.element.id+"SymbolGroup"+o,t),s,i,o,t)}},checkVisibility:function(e,t){if(!e)return!1;for(var i=!1,s=[],r=0,n=e;r<n.length;r++){var o=n[r];-1===s.indexOf(o.series)&&s.push(o.series)}for(var a=0,l=s;a<l.length;a++){o=l[a];if(document.getElementById(t.element.id+"SeriesGroup"+o)){i=!0;break}}return i},findElements:function(e,t,i,s,r){return void 0===s&&(s=""),e.isSeriesMode?this.getSeriesElements(i.series.toString(),e):"Cluster"===e.currentMode?this.getClusterElements(e,i):this.findDOMElementByIndex(e,i,s,r)},removeMultiSelectElements:function(e,t,i){this.getSeriesElements(i.series.toString(),e);for(var s,r=0;r<t.length;r++)s=e.seriesTypes[t[r].series],(e.isSeriesMode&&!this.toEquals(t[r],i,e.isSeriesMode,e)||"Cluster"===e.currentMode&&!this.toEquals(t[r],i,!1,e)||!e.isSeriesMode&&this.toEquals(t[r],i,!0,e)&&!this.toEquals(t[r],i,!1,e))&&(this.removeStyles(this.findElements(e,s,t[r],"",!1),e),e.element.id+"SymbolGroup"+t[r].series&&this.removeStyles(this.findElements(e,s,t[r],"",!0),e),t.splice(r,1),r--)},checkSelectionElements:function(e,t,i,s,r,n,o){var a,l,h,d=[];t=t.trim(),e.id.indexOf("Series")>-1&&(this.pointIdRequired(n.seriesTypes[r])?(d=n.isSeriesMode?[e]:e.querySelectorAll("[id*='_Series']"),"Histogram"===n.seriesTypes[r]&&d.push(this.findDOMElement(n.element.id+"_Series_"+r+"_NDLine")),"Waterfall"===n.seriesTypes[r]&&d.push(this.findDOMElement(n.element.id+"_Series_"+r+"_Connector")),"BoxAndWhisker"===n.seriesTypes[r]&&(d=this.findDOMElement(n.element.id+"SymbolGroup"+r).querySelectorAll("path,ellipse"))):d=n.isSeriesMode?[e]:e.querySelectorAll("[id*='_Series']")),("None"!==n.selectionMode||"None"!==n.highlightMode||n.enableHighlight)&&(d=e.querySelectorAll("[id*='_Series']"));for(var c=e,u=this.isRectSeries(n.seriesTypes[r])?null:this.findDOMElement(n.element.id+"_Series_"+r),p=0;p<d.length;p++)a=d[p].getAttribute("class")||"",l=sf.base.isNullOrUndefined(u)?"":u.getAttribute("class"),("None"!==n.selectionMode||"None"!==n.highlightMode||n.enableHighlight)&&(t=!sf.base.isNullOrUndefined(a)&&(a.indexOf("selection")>0||a.indexOf("highlight")>0)?a:t,t=!sf.base.isNullOrUndefined(a)&&(l.indexOf("selection")>0||l.indexOf("highlight")>0)?l:t),sf.base.isNullOrUndefined(a)||sf.base.isNullOrUndefined(l)||-1!==a.indexOf(t)||-1!==l.indexOf(t)||!i?(c=d[p],this.removeSvgClass(d[p],n.unSelected),this.removeSvgClass(u,n.unSelected)):this.addSvgClass(d[p],n.unSelected),d[p].id.indexOf("Trackball")>0&&c.classList[0]===t&&(this.removeSvgClass(d[p],n.unSelected),this.removeSvgClass(u,n.unSelected),this.addSvgClass(d[p],t));if(e.id.indexOf("Symbol")>-1&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t){var f=this.findDOMElement(e.id+"_Series_"+e.id[e.id.length-1]);(f&&f.hasAttribute("class")?f.getAttribute("class"):"").indexOf(n.unSelected)>-1&&this.removeSvgClass(f,n.unSelected)}var m,g=this.findDOMElement(e.id).getAttribute("data-point");if((e.id.indexOf("SeriesGroup")>-1||e.id.indexOf("SymbolGroup")>-1)&&(g=(m=document.getElementById(e.id).querySelectorAll("path,ellipse")).length>0?m[0].getAttribute("data-point"):null),g){var v=g.split(",");(h=this.findDOMElement(n.id+"_chart_legend_shape_"+r))&&(h.hasAttribute("class")&&(this.removeSvgClass(h,h.getAttribute("class")),sf.base.isNullOrUndefined(n.highlightColor&&""!==n.highlightColor)||(h.setAttribute("stroke",v[2]),"None"===n.highlightPattern&&h.setAttribute("fill",v[2]))),a=c.getAttribute("class")||"",l=c.parentNode.getAttribute("class")||"",-1===a.indexOf(t)&&-1===l.indexOf(t)&&i?(this.addSvgClass(h,n.unSelected),this.removeSvgClass(h,t),""===n.highlightColor||sf.base.isNullOrUndefined(n.highlightColor)||(h.setAttribute("stroke",v[2]),"None"===n.highlightPattern&&h.setAttribute("fill",v[2]))):(this.removeSvgClass(h,n.unSelected),sf.base.isNullOrUndefined(n.highlightColor)||""===n.highlightColor||(h.setAttribute("stroke",v[2]),"None"===n.highlightPattern&&h.setAttribute("fill",v[2])),"e-chart-focused"==a.trim()&&(a=""),""===a&&""===l||"EJ2-Trackball"===a.trim()?this.removeSvgClass(h,t):(this.addSvgClass(h,t),t.indexOf("highlight")>0&&""!==n.highlightColor&&!sf.base.isNullOrUndefined(n.highlightColor)&&(h.setAttribute("stroke",n.highlightColor),n.styleId.indexOf("highlight")>0&&"None"===n.highlightPattern&&h.setAttribute("fill",n.highlightColor)))),s&&l.indexOf(t)>-1&&this.addSvgClass(h,t))}},addSvgClass:function(e,t){var i=e.getAttribute("class")||"";-1===(i+=""!==i?" ":"").indexOf(t)&&e.setAttribute("class",i+t)},isRectSeries:function(e){return"Column"===e||"StackingColumn"===e||"StackingColumn100"===e||"Bar"===e||"StackingBar"===e||"StackingBar100"===e||"RangeColumn"===e||"Histogram"===e||"BoxAndWhisker"===e||"Waterfall"===e||"Pareto"===e||"RangeArea"===e||"SplineRangeArea"===e||"Hilo"===e||"HiloOpenClose"===e||"Candle"===e},pointIdRequired:function(e){return!(!this.isRectSeries(e)&&"Bubble"!==e&&"Scatter"!==e)},getSeriesElements:function(e,t){var i,s=[],r=!sf.base.isNullOrUndefined(document.getElementById(t.element.id+"SymbolGroup"+e))&&"Scatter"!==t.seriesTypes[e]&&"Bubble"!==t.seriesTypes[e]&&!this.isRectSeries(t.seriesTypes[e]);if(r?(i=this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" path"),s=this.addSeriesElements(s,i),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" ellipse"))||(i=this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" ellipse"),s=this.addSeriesElements(s,i))):sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,i),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"))||(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"),s=this.addSeriesElements(s,i))),(t.seriesTypes[e].indexOf("Area")>-1||t.seriesTypes[e].toLowerCase().indexOf("line")>-1)&&(r?(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s.push.apply(s,this.addSeriesElements(s,i))):sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,i))),"Histogram"===t.seriesTypes[e]){var n=this.findDOMElement(t.element.id+"_Series_"+e+"_NDLine");s.push(n)}return"Polar"!==t.seriesTypes[e]||"Scatter"!==t.drawType[e]||sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,i),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"))||(i=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"),s=this.addSeriesElements(s,i))),s},addSeriesElements:function(e,t){for(var i=0;i<t.length;i++){var s=document.getElementById(t[i].id);null!=s&&e.push(s),e=e.filter((function(e,t,i){return t===i.indexOf(e)}))}return e},findDOMElementByIndex:function(e,t,i,s){void 0===i&&(i="");var r=e.element.id+"_Series_"+t.series+"_Point_"+t.point,n=e.seriesTypes[t.series];return r=!this.isRectSeries(n)&&"Scatter"!==n&&"Bubble"!==n&&s?r+"_Symbol"+i:r,"BoxAndWhisker"===n&&(r+="_BoxPath"),[this.findDOMElement(r),"RangeArea"!==n&&"SplineRangeArea"!==n||!s?null:this.findDOMElement(r+"1")]},applyStyles:function(e,t){for(var i=0,s=e;i<s.length;i++){var r=s[i];if(r&&(this.removeSvgClass(r,t.unSelected),this.addSvgClass(r,this.getSelectionClass(r.id,t)),t.styleId.indexOf("highlight")>0&&""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor)&&"None"===t.highlightPattern))if(r.id.indexOf("Group")>0)for(var n=0;n<r.children.length;n++)r.children[n].setAttribute("fill",t.highlightColor);else r.setAttribute("fill",t.highlightColor)}},getClusterElements:function(e,i){for(var s,r,n,o,a=[],l=document.getElementById(e.element.id+"SeriesCollection").querySelectorAll("[id*='SeriesGroup']"),h=(document.getElementById(e.element.id+"SeriesCollection").querySelectorAll("[id*='SymbolGroup']"),0);h<l.length;h++){n=l[h].querySelectorAll("#"+l[h].id+" path"),o=Array.prototype.slice.call(n);for(var d=0;d<o.length;d++){var c=o[d].getAttribute("data-point").split(",");i=new t(+c[4],i.point),this.isRectSeries(c[3])&&a.push(this.findDOMElementByIndex(e,i)[0]),a.push(this.findDOMElementByIndex(e,i,"","True"===c[9])[0]),s=this.generateStyle(o[d].id,e),r=document.querySelectorAll("."+s),this.findTrackballElements(r,s);var u="True"===c[9]&&this.isRectSeries(c[3])?2:1;!e.allowMultiSelection&&r.length>0&&r[0].id!==a[a.length-u].id&&this.removeSelection(e,i.series,r,s,!0)}}return a},clusterSelection:function(e,i){this.selection(e,i,this.getClusterElements(e,new t(i.series,i.point)))},removeSelection:function(e,i,s,r,n){var o,a=document.getElementById(e.element.id+"SeriesGroup"+i).querySelectorAll("#"+e.element.id+"SeriesGroup"+i+" path");Array.prototype.slice.call(a);if(s.length>0){for(var l=[],h=0;h<s.length;h++)l.push(s[h]);this.removeStyles(l,e),e.isSeriesMode=!0,this.addOrRemoveIndex(e.selectedDataIndexes,new t(i,NaN),e);for(var d=0;d<s.length;d++)if(o=s[d].id,r=this.generateStyle(o,e),document.querySelectorAll("."+r).length>0){for(var c=0,u=l;c<u.length;c++){var p=u[c];this.checkSelectionElements(p,r,!0,!0,i,e)}n=!1;break}n&&(e.isSeriesMode="Series"===e.selectionMode,this.blurEffect(o,e))}},isAlreadySelected:function(e,t){var i=e.target;if("click"===e.type?(t.currentMode=t.selectionMode,t.styleId=t.element.id+"_ej2_chart_selection"):"mousemove"!==e.type&&"pointermove"!==e.type||(t.currentMode=t.highlightMode,t.highlightDataIndexes=[],t.styleId=t.element.id+"_ej2_chart_highlight"),("None"!==t.highlightMode||t.enableHighlight)&&"None"===t.selectionMode&&"click"===e.type)return!1;if(("None"!==t.highlightMode||t.enableHighlight)&&0!==t.previousSelectedEle.length&&null!==t.previousSelectedEle[0]){t.previousSelectedEle.filter((function(e){return null!==e}));var s=i.parentNode.id,r=void 0;i.parentNode&&(r=s.indexOf("Point")>0||s.indexOf("Symbol")>0);for(var n=0;n<t.previousSelectedEle.length;n++)if(t.previousSelectedEle[n].hasAttribute("class"))if(t.previousSelectedEle[n].getAttribute("class").indexOf("highlight")>-1&&(r||"click"===e.type)){if(t.previousSelectedEle[n].removeAttribute("class"),""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor)&&"None"===t.highlightPattern)if(t.previousSelectedEle[n].id.indexOf("Group")>0)for(var o=0;o<t.previousSelectedEle[n].children.length;o++){var a=t.previousSelectedEle[n].children[o];a.setAttribute("fill",a.getAttribute("data-point").split(",")[2])}else t.previousSelectedEle[n].setAttribute("fill",t.previousSelectedEle[n].getAttribute("data-point").split(",")[2]);this.addOrRemoveIndex(t.highlightDataIndexes,this.indexFinder(t.previousSelectedEle[n].id),t)}else!r&&t.previousSelectedEle[n].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(t.previousSelectedEle[n].id),t,t.previousSelectedEle[n])}return!0},performSelection:function(e,t,i){if(t.isSeriesMode="Series"===t.currentMode,"BoxAndWhisker"===t.seriesTypes[e.series]&&i&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.seriesTypes[e.series]&&("Point"===t.currentMode||"Cluster"===t.currentMode)&&i&&i.id===t.element.id+"_Series_"+e.series){var s=this.generateStyle(i.id,t),r=document.querySelectorAll("."+s);sf.base.isNullOrUndefined(r)||(this.findTrackballElements(r,s),this.blurEffect(i.id,t,"True"===i.getAttribute("data-point").split(",")[8]))}switch(t.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(e.series.toString(),t)),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(i.id,t);break;case"Point":if(!isNaN(e.point)&&i){var n=[];n.push(i),this.selection(t,e,n),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(i.id,t)}break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(i.id,t))}},selection:function(e,t,i){if(i=i.filter((function(e){return null!==e})),"Lasso"!==e.currentMode&&(e.allowMultiSelection||-1!==e.currentMode.indexOf("Drag")||-1!==e.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,e.selectedDataIndexes,t,i)),!sf.base.isNullOrUndefined(i[0])){this.isRectSeries(e.seriesTypes[t.series])&&"Histogram"!==e.seriesTypes[t.series]&&i[0].id&&(document.getElementById(i[0].id+"_Symbol")?i.push(this.findDOMElement(i[0].id+"_Symbol")):-1!==i[0].id.indexOf("SeriesGroup")&&document.getElementById(i[0].id.replace("SeriesGroup","SymbolGroup"))&&i.push(this.findDOMElement(i[0].id.replace("SeriesGroup","SymbolGroup"))));var s=void 0,r=i[0]&&(i[0].getAttribute("class")||""),n=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==r&&"Cluster"!==e.currentMode&&this.findTrackballElements(i,r),i[0]&&r.indexOf(this.getSelectionClass(i[0].id,e))>-1?this.removeStyles(i,e):i[0].parentNode&&n.indexOf(this.getSelectionClass(i[0].id,e))>-1?this.removeStyles([i[0].parentNode],e):(e.previousSelectedEle="None"!==e.highlightMode||e.enableHighlight?i:[],this.applyStyles(i,e),s=!0),e.styleId.indexOf("highlight")>0&&("None"!==e.highlightMode||e.enableHighlight)?this.addOrRemoveIndex(e.highlightDataIndexes,t,e,s):this.addOrRemoveIndex(e.selectedDataIndexes,t,e,s)}},resetPreviousHighlightIndex:function(e){e.previousHighlightedIndex=-1},isTargetChanged:function(e,t){var i=!1,s=!1;return-1==t.previousHighlightedIndex&&(i=!0),t.previousHighlightedIndex==e&&(s=!0),t.previousHighlightedIndex=e,!s||i},legendSelection:function(e,i){for(var s,r,n,o=e.target.id,a=window.sfBlazor.getCompInstance(i),h=[this.id+"_chart_legend_text_",this.id+"_chart_legend_shape_marker_",this.id+"_chart_legend_shape_",this.id+"_chart_legend_g_"],d="None",c=0;c<h.length;c++)if(!o.indexOf(h[c])){r=parseInt(o.split(h[c])[1]);break}if(a.currentSeriesIndex=r,n=o.indexOf("text")<=0?l.findDOMElement(o):null,"mousemove"===e.type){if(o.indexOf("text")&&(n=l.findDOMElement(o.replace("text","shape"))),n.hasAttribute("class")&&!a.enableHighlight&&a.styleId.indexOf("highlight")>0&&("None"!==a.highlightMode||a.enableHighlight)&&a.styleId.indexOf("selection")>1&&"None"!==a.selectionMode)return;"None"==(d=a.highlightMode)&&a.enableHighlight&&(d="Series")}if(this.isAlreadySelected(e,a)&&!sf.base.isNullOrUndefined(this.findDOMElement(a.element.id+"SeriesGroup"+r)))if(this.seriesStyle=this.generateStyle(a.element.id+"SeriesGroup"+r,a),s=document.querySelectorAll("."+this.seriesStyle),this.isSeriesMode="Series"==d,this.isBlurEffectNeeded=!0,s.length>0)this.removeSelection(a,r,s,this.seriesStyle,this.isBlurEffectNeeded);else{for(var u=document.getElementById(a.element.id+"SeriesCollection").querySelectorAll("[id*='SeriesGroup']"),p=0;p<u.length;p++)a.allowMultiSelection||p==r||(this.seriesStyle=this.generateStyle(u[p].id,a),s=document.querySelectorAll("."+this.seriesStyle),this.removeSelection(a,r,s,this.seriesStyle,this.isBlurEffectNeeded));var f=this.getSeriesElements(r.toString(),a);for(c=0;c<f.length;c++)this.checkSelectionElements(f[c],this.seriesStyle,!1,!0,r,a,f);a.isSeriesMode=!0;var m=new t(r,0);this.selection(a,m,f),this.isSeriesMode="Series"==this.selectionMode,this.blurEffect(a.element.id,a,!0)}},selectionComplete:function(e,t,i){var s,r,n,o,a,l,h,d,c,u,p=[],f=this.getSeriesElements(t.series.toString(),e);if("Cluster"===i){for(var m=0;m<f.length;m++)if(c=this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[3],u=this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[11],n=+this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[10],"visible"===this.findDOMElement(f[m].id).getAttribute("visibility"))for(var g=0;g<e.selectedDataIndexes.length;g++)o=e.allowMultiSelection?e.selectedDataIndexes[g].point:t.point,a=+this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[4],s=+this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[0],r=+this.findDOMElement(f[m].id).getAttribute("data-point").split(",")[1],isNaN(o)||(h=r,d=s),"Category"===e.primaryXAxis?d=s.toLocaleString():"DateTime"===e.primaryXAxis&&(d=new Date(s)),"Indicator"!==u&&p.push({x:d,y:h,seriesIndex:a,pointIndex:o}),"RangeArea"!==c&&"SplineRangeArea"!==c||p.push({x:d,y:n,seriesIndex:a,pointIndex:o})}else if("Series"===i)if(e.allowMultiSelection)for(m=0;m<e.selectedDataIndexes.length;m++)a=e.selectedDataIndexes[m].series,p.push({seriesIndex:a});else a=e.selectedDataIndexes.length>0?e.selectedDataIndexes[0].series:0,p.push({seriesIndex:a});else if("Point"===i)for(m=0;m<e.selectedDataIndexes.length;m++)o=e.selectedDataIndexes[m].point,a=e.selectedDataIndexes[m].series,l=e.element.id+"_Series_"+a+"_Point_"+o,s=+this.findDOMElement(l).getAttribute("data-point").split(",")[0],r=+this.findDOMElement(l).getAttribute("data-point").split(",")[1],n=+this.findDOMElement(l).getAttribute("data-point").split(",")[10],isNaN(o)||(d=s,h=r,"Category"===e.primaryXAxis?d=s.toLocaleString():"DateTime"===e.primaryXAxis&&(d=new Date(s)),p.push({x:d,y:h,seriesIndex:a,pointIndex:o}));e.dotnetref.invokeMethodAsync("OnSelectionChange",p)}};return l}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=21.2.undefined`).then(()=>{sfBlazor.loadDependencies('sfchart');})})();